<ion-header>
  <ion-grid>
    <ion-row>
      <ion-col size="2">
        <ion-toolbar color="tertiary">
          <ion-buttons slot="start">
            <ion-back-button color="primary" mode="md" defaultHref="/"></ion-back-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-col>
      <ion-col size="10">
        <div class="titulo">Seguimiento a Recomendaciones AT</div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-header>

<ion-content>
  <form [formGroup]="formGroup" *ngIf="formGroup" (ngSubmit)="save()">

    <!-- Verificación del seguimiento -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>Verificación del seguimiento</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <div class="follow-up-text">
          {{ recomendacion.Recomendacion }}
        </div>

        <div class="text-center ion-padding">
          <ion-label>¿La recomendación fue implementada?</ion-label>
          <ion-radio-group class="implementation-options" formControlName="implementada">
            <ion-item lines="none">
              <ion-label>SÍ</ion-label>
              <ion-radio slot="start" [value]="true"></ion-radio>
            </ion-item>
            <ion-item lines="none">
              <ion-label>NO</ion-label>
              <ion-radio slot="start" [value]="false"></ion-radio>
            </ion-item>
          </ion-radio-group>
        </div>

        <ion-item class="implementation-date" lines="none">
          <ion-label position="fixed">Fecha de implementación</ion-label>
          <ion-datetime mode="ios" displayFormat="DD/MM/YYYY" doneText="ACEPTAR" cancelText="Cancelar"
            formControlName="fechaImplementacion" [max]="dateNow">
          </ion-datetime>
          <ion-icon name="calendar-outline" slot="end"></ion-icon>
        </ion-item>

        <ion-item class="implemetation-efficiency" lines="none"
          [ngClass]="{ 'item-interactive-disabled': formGroup.controls.eficacia.disabled }">
          <ion-label>¿Fueron eficaces?</ion-label>
          <ion-radio-group formControlName="eficacia">
            <ion-item lines="none">
              <ion-label>SÍ</ion-label>
              <ion-radio slot="start" [value]="true"
                [attr.disabled]="formGroup.controls.eficacia.disabled ? true : null">
              </ion-radio>
            </ion-item>
            <ion-item lines="none">
              <ion-label>NO</ion-label>
              <ion-radio slot="start" [value]="false"
                [attr.disabled]="formGroup.controls.eficacia.disabled ? true : null">
              </ion-radio>
            </ion-item>
          </ion-radio-group>
        </ion-item>

        <ion-item lines="none" class="implementation-causes">
          <ion-label position="stacked">Causa de la NO implementación</ion-label>
          <ion-textarea formControlName="causa"></ion-textarea>
        </ion-item>

        <ion-item lines="none" class="attachment-name">
          <ion-label position="stacked">Nombre de soporte</ion-label>
          <ion-input formControlName="nombreSoporte"></ion-input>
        </ion-item>

        <div class="save-button">
          <ion-button type="submit">
            <ion-icon slot="icon-only" name="arrow-forward-circle-outline"></ion-icon>
          </ion-button>
        </div>

      </ion-card-content>
    </ion-card>

  </form>
</ion-content>