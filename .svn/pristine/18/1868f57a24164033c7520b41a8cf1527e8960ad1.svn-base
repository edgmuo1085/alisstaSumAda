<ion-header>
  <ion-toolbar>
    <div class="title">Solicitud Actualización Sede Principal y Personas Contacto Empresas</div>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="formGroup" (ngSubmit)="next()" *ngIf="formGroup">
    <ion-card class="ion-margin">
      <ion-card-content>
        <ion-list lines="none">
          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">TD/Número Identificación Empresa</ion-label>
            <ion-input formControlName="identificacionEmpresa"></ion-input>
          </ion-item>

          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">Razón Social Empresa</ion-label>
            <ion-input formControlName="razonSocial"></ion-input>
          </ion-item>

          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">ID Sede</ion-label>
            <ion-input formControlName="idSede"></ion-input>
          </ion-item>

          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">Dirección Empresa Sede Principal</ion-label>
            <ion-input formControlName="direccion"></ion-input>
          </ion-item>

          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">Indicador de Zona</ion-label>
            <ion-radio-group formControlName="indicadorZona">
              <ion-item *ngFor="let tz of TIPOS_ZONA">
                <ion-label>{{ tz.label }}</ion-label>
                <ion-radio slot="start" [value]="tz.value" disabled></ion-radio>
              </ion-item>
            </ion-radio-group>
          </ion-item>

          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">Departamento Sede Principal</ion-label>
            <ion-select mode="ios" interface="action-sheet" cancelText="CANCELAR" formControlName="departamentoSede"
              [compareWith]="compareWith('departamento')">
              <ion-select-option [value]="d" *ngFor="let d of departamentos">
                {{ d.Nombre_Departamento }}
              </ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">Municipio Sede Principal</ion-label>
            <ion-select mode="ios" interface="action-sheet" cancelText="CANCELAR" formControlName="municipioSede"
              [compareWith]="compareWith('municipio')">
              <ion-select-option [value]="m"
                *ngFor="let m of municipios | municipiosFilter : formGroup.controls.departamentoSede.value">
                {{ m.NombreMunicipio }}
              </ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">Estado Sede</ion-label>
            <ion-input formControlName="idSede"></ion-input>
          </ion-item>

          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">Código/Nombre AE Principal</ion-label>
            <ion-input formControlName="actividadEconomica"></ion-input>
          </ion-item>

          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">Sector Económico</ion-label>
            <ion-input formControlName="sectorEconomico"></ion-input>
          </ion-item>

          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">Celular Contacto</ion-label>
            <ion-input formControlName="celular"></ion-input>
          </ion-item>

          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">Teléfono Notificación</ion-label>
            <ion-input formControlName="telefonoNotificacion"></ion-input>
          </ion-item>

          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">Correo Notificación</ion-label>
            <ion-input formControlName="correo"></ion-input>
          </ion-item>

          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">Código Postal</ion-label>
            <ion-input formControlName="codigoPostal"></ion-input>
          </ion-item>

          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">TD/No. Identificación Rpte. Legal</ion-label>
            <ion-input formControlName="identificacionRepresentante"></ion-input>
          </ion-item>

          <ion-item class="ion-margin-bottom">
            <ion-label position="stacked">Nombre Rpte. Legal</ion-label>
            <ion-input formControlName="representanteLegal"></ion-input>
          </ion-item>

          <ng-container *ngIf="contacts.length">
            <h3 class="section-title">Datos Personas Contacto Empresa</h3>

            <ng-container *ngFor="let c of contacts; last as isLast">
              <ion-item class="ion-margin-bottom">
                <ion-label position="stacked">Papel/Representación</ion-label>
                <ion-select mode="ios" interface="action-sheet" cancelText="CANCELAR"
                  [formControlName]="'representacion_' + c">
                  <ion-select-option [value]="t" *ngFor="let t of TIPOS_REPRESENTACION">
                    {{ t.label }}
                  </ion-select-option>
                </ion-select>
              </ion-item>

              <ion-item class="ion-margin-bottom">
                <ion-label position="stacked">Tipo Documento</ion-label>
                <ion-select mode="ios" interface="action-sheet" cancelText="CANCELAR"
                  [formControlName]="'tipoDocumento_' + c">
                  <ion-select-option [value]="t" *ngFor="let t of TIPOS_DOCUMENTO">
                    {{ t.label }}
                  </ion-select-option>
                </ion-select>
              </ion-item>

              <ion-item class="ion-margin-bottom">
                <ion-label position="stacked">Número Documento</ion-label>
                <ion-input [formControlName]="'numeroDocumento_' + c"></ion-input>
              </ion-item>

              <ion-item class="ion-margin-bottom">
                <ion-label position="stacked">Primer Nombre</ion-label>
                <ion-input [formControlName]="'primerNombre_' + c"></ion-input>
              </ion-item>

              <ion-item class="ion-margin-bottom">
                <ion-label position="stacked">Segundo Nombre</ion-label>
                <ion-input [formControlName]="'segundoNombre_' + c"></ion-input>
              </ion-item>

              <ion-item class="ion-margin-bottom">
                <ion-label position="stacked">Primer Apellido</ion-label>
                <ion-input [formControlName]="'primerApellido_' + c"></ion-input>
              </ion-item>

              <ion-item class="ion-margin-bottom">
                <ion-label position="stacked">Segundo Apellido</ion-label>
                <ion-input [formControlName]="'segundoApellido_' + c"></ion-input>
              </ion-item>

              <ion-item class="ion-margin-bottom">
                <ion-label position="stacked">Sexo</ion-label>
                <ion-select mode="ios" interface="action-sheet" cancelText="CANCELAR" [formControlName]="'sexo_' + c">
                  <ion-select-option [value]="t" *ngFor="let t of TIPOS_SEXO">
                    {{ t.label }}
                  </ion-select-option>
                </ion-select>
              </ion-item>

              <ion-item class="ion-margin-bottom">
                <ion-label position="stacked">Email Notificación</ion-label>
                <ion-input [formControlName]="'correo_' + c"></ion-input>
              </ion-item>

              <ion-item class="ion-margin-bottom">
                <ion-label position="stacked">Celular</ion-label>
                <ion-input [formControlName]="'celular_' + c"></ion-input>
              </ion-item>

              <ion-item class="ion-margin-bottom">
                <ion-label position="stacked">Teléfono Notificación</ion-label>
                <ion-input [formControlName]="'telefono_' + c"></ion-input>
              </ion-item>

              <ion-item-divider *ngIf="!isLast">
              </ion-item-divider>
            </ng-container>
          </ng-container>
        </ion-list>

        <div class="actions-wrapper ion-margin-top">
          <ion-button color="light" (click)="cancel()">Editar</ion-button>
          <ion-button type="submit" color="primary">Aceptar</ion-button>
        </div>
      </ion-card-content>
    </ion-card>
  </form>
</ion-content>