(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{OaA2:function(n,t,o){"use strict";o.r(t),o.d(t,"ContactListPageModule",(function(){return m}));var e=o("ofXK"),i=o("3Pt+"),c=o("TEn/"),r=o("tyNb"),a=o("mrSG"),d=o("5qc1"),s=o("fXoL");function l(n,t){if(1&n&&(s.Qb(0),s.Sb(1,"ion-item",13),s.Cc(2),s.Rb(),s.Sb(3,"ion-item",13),s.Cc(4),s.Rb(),s.Sb(5,"ion-item",13),s.Cc(6),s.Rb(),s.Sb(7,"ion-item",13),s.Cc(8),s.Rb(),s.Sb(9,"ion-item",13),s.Cc(10),s.Rb(),s.Pb()),2&n){const n=s.ec().$implicit;s.Bb(2),s.Fc(" ",n.strSiglaTipoDoc," ",n.strNumeroDocumento," "),s.Bb(2),s.Ec(" ",n.strSexo," "),s.Bb(2),s.Ec(" ",n.strCelular," "),s.Bb(2),s.Ec(" ",n.strTelefono," "),s.Bb(2),s.Ec(" ",n.strEmail," ")}}function g(n,t){if(1&n){const n=s.Tb();s.Sb(0,"ion-card",10),s.Sb(1,"ion-card-header"),s.Sb(2,"div",11),s.Sb(3,"div",12),s.Sb(4,"ion-item",13),s.Cc(5),s.Rb(),s.Sb(6,"ion-item",14),s.Cc(7),s.Rb(),s.Rb(),s.Sb(8,"ion-icon",8),s.ac("click",(function(){const n=t.$implicit;return n.__expanded=!n.__expanded})),s.Rb(),s.Rb(),s.Rb(),s.Sb(9,"ion-card-content"),s.Ac(10,l,11,6,"ng-container",15),s.Sb(11,"ion-item",13),s.Sb(12,"ion-button",16),s.ac("click",(function(){s.tc(n);const o=t.$implicit;return s.ec().edit(o.strNumeroDocumento)})),s.Cc(13,"Editar"),s.Rb(),s.Sb(14,"ion-button",17),s.ac("click",(function(){s.tc(n);const o=t.$implicit;return s.ec().remove(o)})),s.Cc(15,"Eliminar"),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&n){const n=t.$implicit,o=s.ec();s.Bb(5),s.Ec(" ",o.getContactName(n)," "),s.Bb(2),s.Dc(n.strPapelRespresentacion),s.Bb(1),s.Cb("name",n.__expanded?"chevron-up-outline":"chevron-down-outline"),s.Bb(2),s.mc("ngIf",n.__expanded)}}const b=[{path:"",component:(()=>{class n{constructor(n,t,o,e,i){this.route=n,this.companiesService=t,this.router=o,this.alertCtrl=e,this.ref=i}ionViewWillEnter(){this.getContacts()}add(){this.edit()}edit(n){this.router.navigate(["edit-contact"],{relativeTo:this.route,queryParams:{id:n}})}remove(n){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.alertCtrl.create({header:"Atenci\xf3n",mode:"ios",message:"\xbfRealmente desea eliminar este contacto?",buttons:[{text:"Eliminar",role:"drop",handler:()=>{var t;const o=this.contacts.findIndex(t=>t===n);this.contacts.splice(o,1);const e=null!==(t=this.company.__updated)&&void 0!==t?t:[];e.find(n=>"contact-data"===n)||(e.push("contact-data"),this.company.__updated=e),this.ref.detectChanges()}},{text:"Cancelar",role:"cancel"}]});yield t.present()}))}cancel(){this.router.navigate(["/u/companies/list/"+this.route.snapshot.params.id],{replaceUrl:!0})}getContactName(n){var t,o,e,i;let c=`${null!==(t=n.strPrimerNombre)&&void 0!==t?t:""} ${null!==(o=n.strSegundoNombre)&&void 0!==o?o:""} ${null!==(e=n.strPrimerApellido)&&void 0!==e?e:""} ${null!==(i=n.strSegundoApellido)&&void 0!==i?i:""}`;return c=c.replace(/\s+/g," "),c=c.trim(),c}getContacts(){return Object(a.a)(this,void 0,void 0,(function*(){const n=+this.route.snapshot.params.id;try{this.company=yield this.companiesService.prepareCompany(n)}catch(t){this.company=this.companiesService.company}this.company?this.contacts=this.company.listaPersonasContacto:this.cancel()}))}}return n.\u0275fac=function(t){return new(t||n)(s.Mb(r.a),s.Mb(d.a),s.Mb(r.g),s.Mb(c.a),s.Mb(s.h))},n.\u0275cmp=s.Gb({type:n,selectors:[["app-contact-list"]],decls:15,vars:1,consts:[["size","2"],["color","tertiary"],["slot","start"],["color","primary","mode","md","defaultHref","/"],["size","10"],[1,"backgroundContent","ion-padding"],["class","ion-no-margin",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed",1,"ion-padding"],[3,"click"],["name","add"],[1,"ion-no-margin"],[1,"header-wrapper"],[1,"title"],["lines","none"],["lines","none",1,"role"],[4,"ngIf"],["fill","clear","slot","start",3,"click"],["fill","clear","slot","end",3,"click"]],template:function(n,t){1&n&&(s.Sb(0,"ion-header"),s.Sb(1,"ion-grid"),s.Sb(2,"ion-row"),s.Sb(3,"ion-col",0),s.Sb(4,"ion-toolbar",1),s.Sb(5,"ion-buttons",2),s.Nb(6,"ion-back-button",3),s.Rb(),s.Rb(),s.Rb(),s.Sb(7,"ion-col",4),s.Sb(8,"ion-title"),s.Cc(9,"Actualizaci\xf3n Contactos"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(10,"ion-content",5),s.Ac(11,g,16,4,"ion-card",6),s.Sb(12,"ion-fab",7),s.Sb(13,"ion-fab-button",8),s.ac("click",(function(){return t.add()})),s.Nb(14,"ion-icon",9),s.Rb(),s.Rb(),s.Rb()),2&n&&(s.Bb(11),s.mc("ngForOf",t.contacts))},directives:[c.w,c.v,c.L,c.p,c.Y,c.i,c.e,c.f,c.W,c.q,e.k,c.s,c.t,c.x,c.j,c.l,c.A,c.k,e.l,c.h],styles:["ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{color:#fff}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0;background:#95a6b1}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{width:100%!important;font-size:25px!important;padding:0;text-align:left;top:-50%;transform:translateY(50%)}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{padding:0}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin-bottom:1rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{display:flex}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex-grow:1;font-weight:700}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:.2rem;white-space:normal}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   ion-item.role[_ngcontent-%COMP%]{color:#3d4e5c}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{flex-grow:0;font-size:1.5rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;--inner-padding-start:0;--inner-padding-end:0;--inner-padding-bottom:0;--inner-padding-top:0;--background:inherit;--color:inherit;--min-height:auto;white-space:nowrap;text-overflow:ellipsis}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:inherit}"]}),n})()}];let p=(()=>{class n{}return n.\u0275mod=s.Kb({type:n}),n.\u0275inj=s.Jb({factory:function(t){return new(t||n)},imports:[[r.j.forChild(b)],r.j]}),n})(),m=(()=>{class n{}return n.\u0275mod=s.Kb({type:n}),n.\u0275inj=s.Jb({factory:function(t){return new(t||n)},imports:[[e.c,i.g,c.Z,p]]}),n})()},qkCY:function(n,t,o){"use strict";o.d(t,"a",(function(){return r}));var e=o("mrSG"),i=o("fXoL"),c=o("e8h1");let r=(()=>{class n{constructor(n){this.storage=n}set(n,t){return Object(e.a)(this,void 0,void 0,(function*(){let o;try{o=yield this.storage.set(n,t)}catch(e){o=!1}return!1!==o}))}get(n){return Object(e.a)(this,void 0,void 0,(function*(){let t;try{t=yield this.storage.get(n)}catch(o){}return t}))}remove(n){this.storage.remove(n)}clear(){this.storage.clear()}}return n.\u0275fac=function(t){return new(t||n)(i.Wb(c.b))},n.\u0275prov=i.Ib({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);