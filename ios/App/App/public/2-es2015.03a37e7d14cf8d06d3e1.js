(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"7uMb":function(e,i,n){"use strict";n.r(i),n.d(i,"SurveyAndSignaturePageModule",(function(){return q}));var t=n("ofXK"),o=n("3Pt+"),c=n("TEn/"),a=n("HnZm"),r=n("j1ZV"),s=n("tyNb"),b=n("mrSG"),l=n("F7bV"),d=n("xnDg"),u=n("Byb6"),g=n("JTjT"),f=n("g3sV"),p=n("AC/E"),S=n("7AKq"),h=n("fXoL"),m=n("e8h1");function R(e,i){if(1&e&&(h.Sb(0,"p"),h.Sb(1,"strong"),h.Cc(2,"Responsable ARL: "),h.Rb(),h.Cc(3),h.Rb()),2&e){const e=h.ec();h.Bb(3),h.Fc(" ",e.infoUserARL.nombres," ",e.infoUserARL.apellidos,"")}}function v(e,i){if(1&e&&(h.Sb(0,"p"),h.Sb(1,"strong"),h.Cc(2,"Nombre proveedor: "),h.Rb(),h.Cc(3),h.Rb()),2&e){const e=h.ec();h.Bb(3),h.Ec(" ",e.infoUserARL.nombreProveedor,"")}}function C(e,i){if(1&e&&(h.Sb(0,"p"),h.Sb(1,"strong"),h.Cc(2,"Documento proveedor: "),h.Rb(),h.Cc(3),h.Rb()),2&e){const e=h.ec();h.Bb(3),h.Ec(" ",e.infoUserARL.idProveedor,"")}}function A(e,i){if(1&e&&(h.Sb(0,"p",14),h.Cc(1),h.Rb()),2&e){const e=h.ec();h.Bb(1),h.Fc(" ",e.infoUserARL.nombres," ",e.infoUserARL.apellidos," ")}}function y(e,i){if(1&e){const e=h.Tb();h.Sb(0,"img",15),h.ac("click",(function(){return h.tc(e),h.ec().sendInfoSignatureQR()})),h.Rb()}}let P=(()=>{class e{constructor(e,i,n,t,o,c,a){this.storage=e,this.cacheService=i,this.router=n,this.net=t,this.toastController=o,this.modalCtrl=c,this.alertController=a,this.signaturePadOptions={maxWidth:1,minWidth:1,canvasWidth:300,canvasHeight:300},this.disableBtnSendTask=!1,this.actasAsesoria=[],this.infoEnteredSignatureQR=new h.n}ngOnInit(){this.getInfoUser()}getInfoUser(){return Object(b.a)(this,void 0,void 0,(function*(){this.infoUserARL=yield this.storage.get("sesion")}))}drawComplete(){const e=this.signaturePad.toDataURL().split(",");this.signatureEntered=e[0].concat(",").concat(" ").concat(e[1]),this.disableBtnSendTask=!!this.signatureEntered}drawStart(){console.log("begin drawing")}clear(){this.signaturePad.clear(),this.disableBtnSendTask=!1}sendInfoSignatureQR(){this.infoEnteredSignatureQR.emit({nombreResponsableARL:this.infoUserARL.nombres,apellidosResponsableARL:this.infoUserARL.apellidos,cargo:this.infoUserARL.cargo,licenciaSST:this.infoUserARL.idLicenciaSst,numeroDocumentoEmpresa:this.infoUserARL.idProveedor,nombreProveedor:this.infoUserARL.nombreProveedor,documentoUsuarioARL:this.infoUserARL.idPersona,signatureEntered:this.signatureEntered})}verification(){return Object(b.a)(this,void 0,void 0,(function*(){const e=this.cacheService.getAllInfoToAdvisory();(yield this.modalCtrl.create({component:d.a,componentProps:{info:e}})).present()}))}}return e.\u0275fac=function(i){return new(i||e)(h.Mb(m.b),h.Mb(p.a),h.Mb(s.g),h.Mb(S.b),h.Mb(c.kb),h.Mb(c.cb),h.Mb(c.a))},e.\u0275cmp=h.Gb({type:e,selectors:[["app-signature-qr"]],viewQuery:function(e,i){var n;1&e&&h.Hc(a.a,!0),2&e&&h.qc(n=h.bc())&&(i.signaturePad=n.first)},outputs:{infoEnteredSignatureQR:"infoEnteredSignatureQR"},decls:37,vars:6,consts:[["size","1"],["size","10"],["color","tertiary","expand","block",3,"click"],[4,"ngIf"],[1,"ion-text-center"],[2,"border","1px solid black","border-radius","10px"],[3,"options","onBeginEvent","onEndEvent"],["class","firma",4,"ngIf"],["expand","block","fill","clear","shape","round",3,"click"],[1,"ion-text-justify"],[1,"ion-text-center",2,"margin-bottom","30px"],["size","3"],["size","6"],["src","../../../assets/icon/boton_enviar.png","alt","enviar",3,"click",4,"ngIf"],[1,"firma"],["src","../../../assets/icon/boton_enviar.png","alt","enviar",3,"click"]],template:function(e,i){1&e&&(h.Sb(0,"div"),h.Sb(1,"div"),h.Sb(2,"ion-grid"),h.Sb(3,"ion-row"),h.Nb(4,"ion-col",0),h.Sb(5,"ion-col",1),h.Sb(6,"ion-button",2),h.ac("click",(function(){return i.verification()})),h.Cc(7," Ver Acta "),h.Rb(),h.Rb(),h.Nb(8,"ion-col",0),h.Rb(),h.Rb(),h.Rb(),h.Sb(9,"div"),h.Sb(10,"h3"),h.Cc(11,"Responsable de ARL"),h.Rb(),h.Ac(12,R,4,2,"p",3),h.Rb(),h.Sb(13,"div"),h.Sb(14,"h3"),h.Cc(15,"Raz\xf3n social del proveedor"),h.Rb(),h.Ac(16,v,4,1,"p",3),h.Ac(17,C,4,1,"p",3),h.Rb(),h.Sb(18,"div",4),h.Sb(19,"h4"),h.Cc(20,"Firma responsable de ARL"),h.Rb(),h.Rb(),h.Sb(21,"div",5),h.Sb(22,"signature-pad",6),h.ac("onBeginEvent",(function(){return i.drawStart()}))("onEndEvent",(function(){return i.drawComplete()})),h.Rb(),h.Sb(23,"div",4),h.Ac(24,A,2,2,"p",7),h.Rb(),h.Rb(),h.Sb(25,"ion-button",8),h.ac("click",(function(){return i.clear()})),h.Cc(26," Borrar "),h.Rb(),h.Sb(27,"div",9),h.Sb(28,"p"),h.Cc(29," Al enviar, est\xe1 autorizando el uso de la su firma \xdaNICAMENTE para el registro de la ejecuci\xf3n de las actividades relacionadas en el acta de asesor\xeda en promoci\xf3n y prevenci\xf3n de POSITIVA COMPA\xd1\xcdA DE SEGUROS S.A. La Pol\xedtica de tratamiento de la informaci\xf3n la puede consultar en https://www.positiva.gov.co Una vez sea enviado el formulario, recibir\xe1 correo electr\xf3nico con los soportes de ejecuci\xf3n. "),h.Rb(),h.Rb(),h.Sb(30,"div",10),h.Sb(31,"ion-grid"),h.Sb(32,"ion-row"),h.Nb(33,"ion-col",11),h.Sb(34,"ion-col",12),h.Ac(35,y,1,0,"img",13),h.Rb(),h.Nb(36,"ion-col",11),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&e&&(h.Bb(12),h.mc("ngIf",i.infoUserARL),h.Bb(4),h.mc("ngIf",i.infoUserARL),h.Bb(1),h.mc("ngIf",i.infoUserARL),h.Bb(5),h.mc("options",i.signaturePadOptions),h.Bb(2),h.mc("ngIf",i.infoUserARL),h.Bb(11),h.mc("ngIf",i.disableBtnSendTask))},directives:[c.v,c.L,c.p,c.h,t.l,a.a],styles:["ion-button[_ngcontent-%COMP%]{--border-radius:50px}.firma[_ngcontent-%COMP%]{border-top:1px solid #95a6b1;margin-right:30px;margin-left:30px;font-weight:700;color:grey;font:unset;font-size:15px;padding-top:5px}h3[_ngcontent-%COMP%]{text-align:center}"]}),e})();function O(e,i){if(1&e){const e=h.Tb();h.Sb(0,"div"),h.Sb(1,"div",8),h.Sb(2,"h3"),h.Cc(3,"Encuesta"),h.Rb(),h.Rb(),h.Sb(4,"div",9),h.Sb(5,"p"),h.Cc(6," De acuerdo a su percepci\xf3n del servicio recibido por POSITIVA COMPA\xd1IA DE SEGUROS S.A, agradecemos su calificaci\xf3n. "),h.Rb(),h.Rb(),h.Sb(7,"div"),h.Sb(8,"ion-radio-group"),h.Sb(9,"ion-row"),h.Sb(10,"ion-col"),h.Sb(11,"ion-item",10),h.ac("click",(function(){return h.tc(e),h.ec().radioSelected("Excelente")})),h.Sb(12,"ion-label",11),h.Cc(13,"Excelente"),h.Rb(),h.Sb(14,"ion-avatar"),h.Nb(15,"img",12),h.Rb(),h.Rb(),h.Rb(),h.Sb(16,"ion-col"),h.Sb(17,"ion-item",10),h.ac("click",(function(){return h.tc(e),h.ec().radioSelected("Bueno")})),h.Sb(18,"ion-label",11),h.Cc(19,"Bueno"),h.Rb(),h.Sb(20,"ion-avatar"),h.Nb(21,"img",13),h.Rb(),h.Rb(),h.Rb(),h.Sb(22,"ion-col"),h.Sb(23,"ion-item",10),h.ac("click",(function(){return h.tc(e),h.ec().radioSelected("Regular")})),h.Sb(24,"ion-label",11),h.Cc(25,"Regular"),h.Rb(),h.Sb(26,"ion-avatar"),h.Nb(27,"img",14),h.Rb(),h.Rb(),h.Rb(),h.Sb(28,"ion-col"),h.Sb(29,"ion-item",10),h.ac("click",(function(){return h.tc(e),h.ec().radioSelected("Deficiente")})),h.Sb(30,"ion-label",11),h.Cc(31,"Deficiente"),h.Rb(),h.Sb(32,"ion-avatar"),h.Nb(33,"img",15),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()}if(2&e){const e=h.ec();h.Bb(15),h.mc("ngClass",e.pollSelectedExce?"imgSeleccionadaExcBue":"imgSinSeleccionar"),h.Bb(6),h.mc("ngClass",e.pollSelectedBue?"imgSeleccionadaExcBue":"imgSinSeleccionar"),h.Bb(6),h.mc("ngClass",e.pollSelectedReg?"imgSeleccionadaRegDef":"imgSinSeleccionar"),h.Bb(6),h.mc("ngClass",e.pollSelectedDef?"imgSeleccionadaRegDef":"imgSinSeleccionar")}}function B(e,i){if(1&e&&(h.Sb(0,"p",19),h.Cc(1),h.Rb()),2&e){const e=h.ec(2);h.Bb(1),h.Ec(" ",e.namePersonSignature.Nombre," ")}}function I(e,i){if(1&e){const e=h.Tb();h.Sb(0,"div",16),h.Sb(1,"signature-pad",17),h.ac("onBeginEvent",(function(){return h.tc(e),h.ec().drawStart()}))("onEndEvent",(function(){return h.tc(e),h.ec().drawComplete()})),h.Rb(),h.Sb(2,"div",8),h.Ac(3,B,2,1,"p",18),h.Rb(),h.Rb()}if(2&e){const e=h.ec();h.Bb(1),h.mc("options",e.signaturePadOptions),h.Bb(2),h.mc("ngIf",e.namePersonSignature)}}function E(e,i){if(1&e){const e=h.Tb();h.Sb(0,"ion-button",20),h.ac("click",(function(){return h.tc(e),h.ec().clear()})),h.Cc(1," Borrar\n"),h.Rb()}}function M(e,i){if(1&e&&(h.Sb(0,"div",9),h.Sb(1,"p"),h.Cc(2," Mi calificaci\xf3n del servicio fue: "),h.Sb(3,"strong"),h.Cc(4),h.Rb(),h.Rb(),h.Sb(5,"p"),h.Cc(6," Al guardar, est\xe1 autorizando el uso de su firma \xdaNICAMENTE para el registro de la ejecuci\xf3n de las actividades relacionadas en el acta de asesor\xeda en promoci\xf3n y prevenci\xf3n de POSITIVA COMPA\xd1\xcdA DE SEGUROS S.A. La pol\xedtica de tratamiento de la Pol\xedtica de tratamiento de la informaci\xf3n la puede consultar en https://www.positiva.gov.co Una vez las actividades sean validadas por POSITIVA COMPA\xd1\xcdA DE SEGUROS S.A. se enviar\xe1n los soportes en PDF a trav\xe9s del correo electr\xf3nico registrado en las actividades. "),h.Rb(),h.Rb()),2&e){const e=h.ec();h.Bb(4),h.Dc(e.answerPoll)}}function w(e,i){if(1&e){const e=h.Tb();h.Sb(0,"ion-button",21),h.ac("click",(function(){return h.tc(e),h.ec().saveSignatureWithoutQR()})),h.Cc(1," Guardar "),h.Rb()}}let x=(()=>{class e{constructor(e,i){this.alertController=e,this.storage=i,this.pollSelectedExce=!1,this.pollSelectedBue=!1,this.pollSelectedReg=!1,this.pollSelectedDef=!1,this.signaturePadOptions={maxWidth:1,minWidth:1,canvasWidth:300,canvasHeight:300},this.showSignature=!1,this.infoSignatureWithoutQR=new h.n,this.enableBtnGuardar=!1}ionViewDidEnter(){}ngOnInit(){this.getInfoUser()}getInfoUser(){return Object(b.a)(this,void 0,void 0,(function*(){this.infoUserARL=yield this.storage.get("sesion")}))}radioSelected(e){switch(e){case"Excelente":this.pollSelectedExce=!0,this.pollSelectedReg=!1,this.pollSelectedBue=!1,this.pollSelectedDef=!1,this.showSignature=!0,this.answerPoll="Excelente";break;case"Bueno":this.pollSelectedBue=!0,this.pollSelectedExce=!1,this.pollSelectedReg=!1,this.pollSelectedDef=!1,this.showSignature=!0,this.answerPoll="Bueno";break;case"Regular":this.pollSelectedReg=!0,this.pollSelectedExce=!1,this.pollSelectedBue=!1,this.pollSelectedDef=!1,this.showSignature=!0,this.answerPoll="Regular";break;case"Deficiente":this.pollSelectedDef=!0,this.pollSelectedExce=!1,this.pollSelectedBue=!1,this.pollSelectedReg=!1,this.showSignature=!0,this.answerPoll="Deficiente"}}drawComplete(){const e=this.signaturePad.toDataURL().split(",");this.signatureEntered=e[0].concat(",").concat(" ").concat(e[1]),this.enableBtnGuardar=!!this.signatureEntered}drawStart(){console.log("begin drawing")}clear(){this.signaturePad.clear(),this.enableBtnGuardar=!1}saveSignatureWithoutQR(){this.infoSignatureWithoutQR.emit({answerPoll:this.answerPoll,signatureEntered:this.signatureEntered})}}return e.\u0275fac=function(i){return new(i||e)(h.Mb(c.a),h.Mb(m.b))},e.\u0275cmp=h.Gb({type:e,selectors:[["app-signature-without-qr"]],viewQuery:function(e,i){var n;1&e&&h.Hc(a.a,!0),2&e&&h.qc(n=h.bc())&&(i.signaturePad=n.first)},inputs:{namePersonSignature:"namePersonSignature",verificationCodeInput:"verificationCodeInput"},outputs:{infoSignatureWithoutQR:"infoSignatureWithoutQR"},decls:11,vars:5,consts:[[4,"ngIf"],["style","border:1px solid black; border-radius: 10px;",4,"ngIf"],["expand","block","fill","clear","shape","round",3,"click",4,"ngIf"],["class","ion-text-justify",4,"ngIf"],[1,"ion-text-center",2,"margin-bottom","30px"],["size","3"],["size","6"],["expand","block","color","primary","shape","round",3,"click",4,"ngIf"],[1,"ion-text-center"],[1,"ion-text-justify"],["lines","none",3,"click"],[1,"imgSinSeleccionar"],["src","../../../assets/icon/img1.png","alt","imgExcelente",3,"ngClass"],["src","../../../assets/icon/img2.png","alt","imgBueno",3,"ngClass"],["src","../../../assets/icon/img3.png","alt","imgRegular",3,"ngClass"],["src","../../../assets/icon/img4.png","alt","imgDeficiente",3,"ngClass"],[2,"border","1px solid black","border-radius","10px"],[3,"options","onBeginEvent","onEndEvent"],["class","firma",4,"ngIf"],[1,"firma"],["expand","block","fill","clear","shape","round",3,"click"],["expand","block","color","primary","shape","round",3,"click"]],template:function(e,i){1&e&&(h.Ac(0,O,34,4,"div",0),h.Ac(1,I,4,2,"div",1),h.Ac(2,E,2,0,"ion-button",2),h.Ac(3,M,7,1,"div",3),h.Sb(4,"div",4),h.Sb(5,"ion-grid"),h.Sb(6,"ion-row"),h.Nb(7,"ion-col",5),h.Sb(8,"ion-col",6),h.Ac(9,w,2,0,"ion-button",7),h.Rb(),h.Nb(10,"ion-col",5),h.Rb(),h.Rb(),h.Rb()),2&e&&(h.mc("ngIf",i.verificationCodeInput),h.Bb(1),h.mc("ngIf",i.showSignature),h.Bb(1),h.mc("ngIf",i.showSignature),h.Bb(1),h.mc("ngIf",i.showSignature),h.Bb(6),h.mc("ngIf",i.enableBtnGuardar))},directives:[t.l,c.v,c.L,c.p,c.J,c.ib,c.A,c.F,c.d,t.j,a.a,c.h],styles:["ion-item[_ngcontent-%COMP%]{--background:none}.imgSinSeleccionar[_ngcontent-%COMP%]{filter:hue-rotate(0deg) saturate(0) brightness(400%)}.imgSeleccionadaExcBue[_ngcontent-%COMP%]{filter:hue-rotate(120deg) saturate(100%) brightness(200%)}.imgSeleccionadaRegDef[_ngcontent-%COMP%]{filter:hue-rotate(0deg) brightness(100%)}.firma[_ngcontent-%COMP%]{border-top:1px solid #95a6b1;margin-right:30px;margin-left:30px;font-weight:700;color:grey;font:unset;font-size:15px;padding-top:5px}"]}),e})();function _(e,i){if(1&e&&(h.Sb(0,"ion-select-option",14),h.Cc(1),h.Rb()),2&e){const e=i.$implicit;h.mc("value",e),h.Bb(1),h.Ec(" ",e.Nombre," ")}}function T(e,i){1&e&&(h.Sb(0,"div",15),h.Sb(1,"h3"),h.Cc(2,"Tipo de documento"),h.Rb(),h.Rb())}function k(e,i){if(1&e&&(h.Sb(0,"ion-input",16),h.Cc(1),h.Rb()),2&e){const e=h.ec();h.Bb(1),h.Ec(" ",e.selectedVal.tipoDocumentoDescripcion,"")}}function L(e,i){1&e&&(h.Sb(0,"div",15),h.Sb(1,"h3"),h.Cc(2,"Documento de identificaci\xf3n"),h.Rb(),h.Rb())}function D(e,i){if(1&e&&(h.Sb(0,"ion-input",16),h.Cc(1),h.Rb()),2&e){const e=h.ec();h.Bb(1),h.Ec("",e.selectedVal.numeroDocumento," ")}}function F(e,i){1&e&&(h.Sb(0,"div",15),h.Sb(1,"h3"),h.Cc(2,"Correo Electr\xf3nico"),h.Rb(),h.Rb())}function U(e,i){if(1&e&&(h.Sb(0,"ion-input",16),h.Cc(1),h.Rb()),2&e){const e=h.ec();h.Bb(1),h.Dc(e.selectedVal.correo)}}function V(e,i){1&e&&(h.Sb(0,"div",15),h.Sb(1,"h3"),h.Cc(2,"Cargo"),h.Rb(),h.Rb())}function N(e,i){if(1&e&&(h.Sb(0,"ion-input",16),h.Cc(1),h.Rb()),2&e){const e=h.ec();h.Bb(1),h.Dc(e.selectedVal.cargo)}}function j(e,i){if(1&e){const e=h.Tb();h.Sb(0,"div",6),h.Sb(1,"div",7),h.Sb(2,"h4"),h.Cc(3,"Firma responsable de la empresa"),h.Rb(),h.Rb(),h.Sb(4,"div"),h.Sb(5,"ion-grid"),h.Sb(6,"ion-row"),h.Nb(7,"ion-col",23),h.Sb(8,"ion-col",4),h.Sb(9,"ion-button",24),h.ac("click",(function(){return h.tc(e),h.ec(2).verification()})),h.Cc(10," Ver Acta "),h.Rb(),h.Rb(),h.Nb(11,"ion-col",23),h.Rb(),h.Sb(12,"ion-row"),h.Nb(13,"ion-col",23),h.Sb(14,"ion-col",4),h.Sb(15,"ion-button",25),h.ac("click",(function(){return h.tc(e),h.ec(2).confirmVerificationCode()})),h.Cc(16," Firma Acta "),h.Rb(),h.Rb(),h.Nb(17,"ion-col",23),h.Rb(),h.Rb(),h.Rb(),h.Rb()}if(2&e){const e=h.ec(2);h.Bb(15),h.mc("disabled",e.disabledBtnSignature)}}function Q(e,i){if(1&e){const e=h.Tb();h.Sb(0,"app-signature-qr",26),h.ac("infoEnteredSignatureQR",(function(i){return h.tc(e),h.ec(2).getInfoSignatureQR(i)})),h.Rb()}}function G(e,i){if(1&e){const e=h.Tb();h.Sb(0,"app-signature-without-qr",27),h.ac("infoSignatureWithoutQR",(function(i){return h.tc(e),h.ec(2).getInfoSignatureQR(i)})),h.Rb()}if(2&e){const e=h.ec(2);h.mc("verificationCodeInput",e.verificationCode)("namePersonSignature",e.selectedVal)}}function z(e,i){if(1&e){const e=h.Tb();h.Qb(0),h.Sb(1,"div",6),h.Sb(2,"ion-list",17),h.Sb(3,"ion-item",8),h.Sb(4,"ion-label",18),h.Cc(5),h.Rb(),h.Sb(6,"ion-toggle",19),h.ac("ionChange",(function(i){return h.tc(e),h.ec().changeOptSignature(i)})),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Ac(7,j,18,1,"div",20),h.Sb(8,"div",6),h.Ac(9,Q,1,0,"app-signature-qr",21),h.Ac(10,G,1,2,"app-signature-without-qr",22),h.Rb(),h.Pb()}if(2&e){const e=h.ec();h.Bb(5),h.Ec("",e.textCheckFirma," se va a firmar con c\xf3digo QR"),h.Bb(1),h.mc("disabled",e.disabledFirma),h.Bb(1),h.mc("ngIf",!e.showSignature),h.Bb(2),h.mc("ngIf",e.showSignature),h.Bb(1),h.mc("ngIf",!e.showSignature)}}const W=[{path:"",component:(()=>{class e{constructor(e,i,n,t,o,c,a,r,s,b,l,d){this.platform=e,this.cacheService=i,this.router=n,this.storage=t,this.net=o,this.photoService=c,this.loadingCtlr=a,this.advisoryTopicService=r,this.activityListCompany=s,this.toastController=b,this.modalCtrl=l,this.alertController=d,this.data=[],this.showSignature=!1,this.responsibleList=[],this.textCheckFirma="NO",this.disabledFirma=!1,this.disabledBtnSignature=!1,this.actasAsesoria=[],this.filesBase64=[],this.filesConcat=""}ionViewWillEnter(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.readFile()}))}ngOnInit(){this.responsibleList=JSON.parse(sessionStorage.companySelected).listaReposables,console.log("responsables",this.responsibleList),this.data=this.responsibleList,this.getInfoUser()}getInfoUser(){return Object(b.a)(this,void 0,void 0,(function*(){this.infoUserARL=yield this.storage.get("sesion"),console.log("this.infoUserARL",this.infoUserARL)}))}confirmVerificationCode(){return Object(b.a)(this,void 0,void 0,(function*(){let e,i;const n=yield this.alertController.create({cssClass:"my-custom-class",backdropDismiss:!1,mode:"ios",header:"Ingrese el c\xf3digo de verificaci\xf3n, si seleccionas la opci\xf3n reenviar c\xf3digo, se enviar\xe1 al siguiente correo: "+this.selectedVal.correo,inputs:[{name:"verificationCodeInput",type:"tel",placeholder:"C\xf3digo de verificaci\xf3n"}],buttons:[{text:"Reenviar c\xf3digo",handler:()=>{i=!0}},{text:"Aceptar",handler:i=>{e=i}},{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}}]});n.onDidDismiss().then(()=>Object(b.a)(this,void 0,void 0,(function*(){if(e)this.selectedVal?(this.disabledFirma=!0,this.selectedVal.codigoVerificacion===e.verificationCodeInput?(this.verificationCode=e.verificationCodeInput,this.disabledBtnSignature=!0):(this.notification("Atenci\xf3n","El c\xf3digo ingresado no es valido, por favor intente nuevamente"),this.disabledFirma=!1)):this.notification("Alerta","Debes seleccionar a un responsable de la empresa.");else if(i)if(this.selectedVal)if(this.validateNetwork()){const e=JSON.parse(sessionStorage.companySelected).id,i=this.selectedVal.id;this.presentLoading("Reenviando c\xf3digo de verificaci\xf3n ..."),(yield this.activityListCompany.recordarCodigoVerificacion(i,e).toPromise())?(this.notification("Exitoso","Se reenvio el c\xf3digo de verificaci\xf3n al correo "+this.selectedVal.correo),this.loading.dismiss()):(this.notification("Error","No se pudo env\xedar el c\xf3digo de verificaci\xf3n al correo: "+this.selectedVal.correo),this.loading.dismiss())}else this.notification("Alerta","No tienes conexi\xf3n a internet para realizar esta funcionalidad");else this.notification("Alerta","Debes seleccionar a un responsable de la empresa.")}))),yield n.present()}))}OnChange(e){this.selectedVal=e.detail.value}getInfoSignatureQR(e){const i=new Date;if("NO"===this.textCheckFirma){this.textCheckFirma=!1;const n=e.answerPoll.charAt(0);this.infoSurveyQR={nombreResponsable:this.selectedVal.Nombre,responsableId:this.selectedVal.id,tipoDocumentoResponsable:this.selectedVal.tipoDocumentoDescripcion,numeroDocumentoResponsable:this.selectedVal.numeroDocumento,cargo:this.selectedVal.cargo,firmaQR:this.textCheckFirma,answerPool:n,signature:e.signatureEntered,dateCreatedSurvey:i},this.cacheService.saveSurveyQR(this.infoSurveyQR),this.router.navigateByUrl("/u/execLog/pending-visits/visit-id/company-info/comments/survey-signature/responsibleSignatureARL")}else this.textCheckFirma=!0,this.infoSurveyQR={nombreResponsable:this.selectedVal.Nombre,responsableId:this.selectedVal.id,tipoDocumentoResponsable:this.selectedVal.tipoDocumentoDescripcion,numeroDocumentoResponsable:this.selectedVal.numeroDocumento,cargo:this.selectedVal.cargo,firmaQR:this.textCheckFirma,nombreResponsableARL:e.nombreResponsableARL,apellidoResponsableARL:e.apellidosResponsableARL,documentoResponsableARL:e.documentoUsuarioARL,nombreProveedor:e.nombreProveedor,cargoARL:e.cargo,licenciaSSTARL:e.licenciaSST,signature:e.signatureEntered,dateCreatedSurvey:i},this.cacheService.saveSurveyQR(this.infoSurveyQR),this.sendTask()}changeOptSignature(e){!0===e.detail.checked?(this.showSignature=!0,this.textCheckFirma="SI"):(this.showSignature=!1,this.textCheckFirma="NO")}verification(){return Object(b.a)(this,void 0,void 0,(function*(){const e=this.cacheService.getAllInfoToAdvisory();(yield this.modalCtrl.create({component:d.a,componentProps:{info:e}})).present()}))}sendTask(){return Object(b.a)(this,void 0,void 0,(function*(){const e=this.validateNetwork();this.actaAsesoriaGestionada=this.cacheService.createActaAsesoria(this.infoUserARL.idProveedor);const i=this.getFiles();if(e){yield this.presentLoading("Creando acta de asesor\xeda ...");let e=yield this.advisoryTopicService.saveActaAsesoria(this.actaAsesoriaGestionada).toPromise();if(e=e.split(";"),"true"===e[0]&&"-1"!==e[1]){for(const t of i){const i=Object.assign(Object.assign({},t),{UidActaAsesoria:+e[1]});yield this.advisoryTopicService.uploadFileActaAsesoria(i).toPromise()}this.photoService.photos=[];const n=yield this.storage.get("listaActividades");for(let e=0;e<n.length;e++){const i=n[e].listaActividadesMigradas,t=[];i.forEach(e=>{const i=e.id;this.actaAsesoriaGestionada.TTA_lista.findIndex(e=>e.id===i)>-1&&t.push(i)}),n[e].listaActividadesMigradas=i.filter(e=>!t.find(i=>i===e.id))}this.storage.set("listaActividades",n),this.registerTime(this.actaAsesoriaGestionada.AE_HorasTotales),this.notification("Atenci\xf3n","Se ha creado el acta de asesor\xeda"),this.router.navigateByUrl("/u/execLog")}else this.notification("Error","No se pudo crear el acta de asesor\xeda");this.loading.dismiss()}else{const e=[],n=this.cacheService.getAllInfoToAdvisory(),t=JSON.parse(sessionStorage.companySelected);for(let i=0;i<t.listaActividadesMigradas.length;i++){const o=t.listaActividadesMigradas[i].idActividad,c=n.activities.find(e=>e.idActividad===o);c?(c.estadoInterno="Por enviar",e.push(c)):e.push(t.listaActividadesMigradas[i])}t.listaActividadesMigradas=e;const o=JSON.stringify(t);sessionStorage.setItem("companySelected",o),this.cacheService.saveActasAsesoria(i)&&(this.registerTime(this.actaAsesoriaGestionada.AE_HorasTotales),this.notification("Atenci\xf3n","El m\xf3vil no tiene acceso a datos, por lo cual el acta de asesor\xeda se guard\xf3 con estado pendiente por enviar."),this.router.navigateByUrl("/u/execLog"))}}))}readFile(){return Object(b.a)(this,void 0,void 0,(function*(){const e=this.cacheService.saveAttach;for(let n=0;n<e.length;n++){const t=e[n].nombreArchivo,o=e[n].idActividad,c=e[n].extensionBase64;try{yield l.b.readFile({path:`${o}/${t}`,directory:l.a.Data}).then(i=>{const t=c.concat(",").concat(i.data);this.filesBase64.push({UidActividadMigradaXUSuario:o,TipoSoporte:e[n].tipoDocumento,Base64:t})})}catch(i){console.log(i)}}}))}removeFile(){const e=this.cacheService.saveAttach;for(let n=0;n<e.length;n++){const t=e[n].nombreArchivo,o=e[n].idActividad;try{l.b.deleteFile({path:`${o}/${t}`,directory:l.a.Data})}catch(i){}}}validateNetwork(){const e=this.net.getNetworkStatus();return e===S.a.Offline&&this.presentToast(),e===S.a.Online}presentLoading(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.loading=yield this.loadingCtlr.create({mode:"ios",message:e}),this.loading.present()}))}presentToast(){return Object(b.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:"Verifique su conexi\xf3n a internet.",duration:2e3})).present()}))}notification(e,i){return Object(b.a)(this,void 0,void 0,(function*(){const n=yield this.alertController.create({header:e,backdropDismiss:!1,mode:"ios",message:i,buttons:["ACEPTAR"]});n.onDidDismiss(),yield n.present()}))}registerTime(e){return Object(b.a)(this,void 0,void 0,(function*(){const i=/(\d+)(\s+Horas\s+)(\d+)(\s+Minutos)/gm.exec(e);if(!i)return;const n=60*+i[1]+ +i[3];yield this.cacheService.setRegisteredTime(n)}))}getFiles(){const e=[],i=this.cacheService.obtenerAdjuntosFoto();for(let n=0;n<this.filesBase64.length;n++)e.push(this.filesBase64[n]);for(let n=0;n<i.length;n++)i[n].forEach(i=>Object(b.a)(this,void 0,void 0,(function*(){e.push({UidActividadMigradaXUSuario:i.idActividad,TipoSoporte:i.idTipoArchivo,base64:i.foto.base64Imagen})})));return this.removeFile(),e}}return e.\u0275fac=function(i){return new(i||e)(h.Mb(c.eb),h.Mb(p.a),h.Mb(s.g),h.Mb(m.b),h.Mb(S.b),h.Mb(f.a),h.Mb(c.bb),h.Mb(g.a),h.Mb(u.a),h.Mb(c.kb),h.Mb(c.cb),h.Mb(c.a))},e.\u0275cmp=h.Gb({type:e,selectors:[["app-survey-and-signature"]],decls:27,vars:11,consts:[["size","2"],["color","tertiary"],["slot","start"],["color","primary","mode","md","defaultHref","/"],["size","10"],[1,"titulo"],[1,"ion-padding"],[1,"ion-text-center"],["lines","none"],["placeholder","Seleccionar","interface","action-sheet","mode","ios","color","primary",1,"full-width-select","bg-light","mt-3","rounded","pl-1","pr-1",3,"ngModel","ngModelChange"],["class","custom-options",3,"value",4,"ngFor","ngForOf"],["class","ion-text-start",4,"ngIf"],["class","bg-light mt-3 rounded pl-1 pr-1","readonly","",4,"ngIf"],[4,"ngIf"],[1,"custom-options",3,"value"],[1,"ion-text-start"],["readonly","",1,"bg-light","mt-3","rounded","pl-1","pr-1"],[2,"background","none"],[1,"bold"],[3,"disabled","ionChange"],["class","ion-padding",4,"ngIf"],[3,"infoEnteredSignatureQR",4,"ngIf"],[3,"verificationCodeInput","namePersonSignature","infoSignatureWithoutQR",4,"ngIf"],["size","1"],["color","tertiary","expand","block",3,"click"],["expand","block",3,"disabled","click"],[3,"infoEnteredSignatureQR"],[3,"verificationCodeInput","namePersonSignature","infoSignatureWithoutQR"]],template:function(e,i){1&e&&(h.Sb(0,"ion-header"),h.Sb(1,"ion-grid"),h.Sb(2,"ion-row"),h.Sb(3,"ion-col",0),h.Sb(4,"ion-toolbar",1),h.Sb(5,"ion-buttons",2),h.Nb(6,"ion-back-button",3),h.Rb(),h.Rb(),h.Rb(),h.Sb(7,"ion-col",4),h.Sb(8,"ion-title",5),h.Cc(9,"Encuesta y firma de la empresa"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(10,"ion-content"),h.Sb(11,"div",6),h.Sb(12,"div",7),h.Sb(13,"h3"),h.Cc(14,"Responsable de la empresa"),h.Rb(),h.Rb(),h.Sb(15,"ion-item",8),h.Sb(16,"ion-select",9),h.ac("ngModelChange",(function(e){return i.selectedVal=e})),h.Ac(17,_,2,2,"ion-select-option",10),h.Rb(),h.Rb(),h.Ac(18,T,3,0,"div",11),h.Ac(19,k,2,1,"ion-input",12),h.Ac(20,L,3,0,"div",11),h.Ac(21,D,2,1,"ion-input",12),h.Ac(22,F,3,0,"div",11),h.Ac(23,U,2,1,"ion-input",12),h.Ac(24,V,3,0,"div",11),h.Ac(25,N,2,1,"ion-input",12),h.Rb(),h.Ac(26,z,11,5,"ng-container",13),h.Rb()),2&e&&(h.Bb(16),h.mc("ngModel",i.selectedVal),h.Bb(1),h.mc("ngForOf",i.data),h.Bb(1),h.mc("ngIf",i.selectedVal),h.Bb(1),h.mc("ngIf",i.selectedVal),h.Bb(1),h.mc("ngIf",i.selectedVal),h.Bb(1),h.mc("ngIf",i.selectedVal),h.Bb(1),h.mc("ngIf",i.selectedVal),h.Bb(1),h.mc("ngIf",i.selectedVal),h.Bb(1),h.mc("ngIf",i.selectedVal),h.Bb(1),h.mc("ngIf",i.selectedVal),h.Bb(1),h.mc("ngIf",i.selectedVal))},directives:[c.w,c.v,c.L,c.p,c.Y,c.i,c.e,c.f,c.W,c.q,c.A,c.N,c.ib,o.l,o.o,t.k,t.l,c.O,c.z,c.jb,c.G,c.F,c.X,c.b,c.h,P,x],styles:["ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{color:#fff}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0;background:#95a6b1}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{padding:0}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background:none}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius:40px}ion-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius:50px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .btnEnviar[_ngcontent-%COMP%]{margin-top:30px}.full-width-select[_ngcontent-%COMP%]{width:100%;max-width:100%}.titulo[_ngcontent-%COMP%]{width:100%!important;font-size:20px!important;text-align:left;padding:10px 0 0;margin-top:10px}"]}),e})()},{path:"responsibleSignatureARL",loadChildren:()=>Promise.all([n.e(10),n.e(44)]).then(n.bind(null,"MH/5")).then(e=>e.ResponsibleSignatureARLPageModule)}];let H=(()=>{class e{}return e.\u0275mod=h.Kb({type:e}),e.\u0275inj=h.Jb({factory:function(i){return new(i||e)},imports:[[s.j.forChild(W)],s.j]}),e})(),q=(()=>{class e{}return e.\u0275mod=h.Kb({type:e}),e.\u0275inj=h.Jb({factory:function(i){return new(i||e)},imports:[[t.c,o.g,c.Z,a.b,H,r.a]]}),e})()},F7bV:function(e,i,n){"use strict";n.d(i,"b",(function(){return c}));var t=n("FUe0"),o=n("cyLK");n.d(i,"a",(function(){return o.a}));const c=Object(t.d)("Filesystem",{web:()=>n.e(50).then(n.bind(null,"B5q2")).then(e=>new e.FilesystemWeb)})},JTjT:function(e,i,n){"use strict";n.d(i,"a",(function(){return a}));var t=n("AytR"),o=n("fXoL"),c=n("tk/3");let a=(()=>{class e{constructor(e){this.http=e,this.API_SAVE_ACTA_ASESORIA=t.a.API_SAVE_ACTA_ASESORIA,this.API_UPLOAD_FILE_ACTA_ASESORIA=t.a.API_UPLOAD_FILE_ACTA_ASESORIA}saveActaAsesoria(e){const i=e;return console.log(i),this.http.post(this.API_SAVE_ACTA_ASESORIA,i)}uploadFileActaAsesoria(e){return this.http.post(this.API_UPLOAD_FILE_ACTA_ASESORIA,e)}}return e.\u0275fac=function(i){return new(i||e)(o.Wb(c.a))},e.\u0275prov=o.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},cyLK:function(e,i,n){"use strict";var t,o;n.d(i,"a",(function(){return t})),n.d(i,"b",(function(){return o})),function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"}(t||(t={})),function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"}(o||(o={}))},dTEF:function(e,i,n){"use strict";var t,o,c;n.d(i,"c",(function(){return t})),n.d(i,"a",(function(){return o})),n.d(i,"b",(function(){return c})),function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"}(t||(t={})),function(e){e.Rear="REAR",e.Front="FRONT"}(o||(o={})),function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"}(c||(c={}))},g3sV:function(e,i,n){"use strict";n.d(i,"a",(function(){return s}));var t=n("mrSG"),o=n("FUe0"),c=n("dTEF");const a=Object(o.d)("Camera",{web:()=>n.e(49).then(n.bind(null,"wzPO")).then(e=>new e.CameraWeb)});var r=n("fXoL");let s=(()=>{class e{constructor(){this.photos=[]}addNewToGallery(){return Object(t.a)(this,void 0,void 0,(function*(){const e=yield a.getPhoto({resultType:c.b.DataUrl,source:c.c.Camera,quality:60});return{format:e.format,base64Imagen:e.dataUrl,idFoto:(new Date).getTime().toString(16)}}))}deletePhoto(e,i){const n=e.idFoto,t=this.photos.find(e=>e.idFoto===n);t&&this.photos.splice(t,1)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=r.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},xnDg:function(e,i,n){"use strict";n.d(i,"a",(function(){return T}));var t=n("AC/E"),o=n("fXoL"),c=n("TEn/"),a=n("ofXK");function r(e,i){if(1&e&&(o.Sb(0,"ion-card",6),o.Sb(1,"ion-card-header",6),o.Sb(2,"ion-card-title",6),o.Cc(3),o.Rb(),o.Rb(),o.Sb(4,"ion-card-content",6),o.Sb(5,"ion-list"),o.Sb(6,"ion-item",7),o.Sb(7,"strong"),o.Sb(8,"ion-label",8),o.Cc(9,"Descripci\xf3n"),o.Rb(),o.Rb(),o.Sb(10,"ion-input",13),o.Cc(11),o.Rb(),o.Rb(),o.Sb(12,"ion-item",7),o.Sb(13,"strong"),o.Sb(14,"ion-label",8),o.Cc(15,"Observaciones"),o.Rb(),o.Rb(),o.Sb(16,"ion-input",13),o.Cc(17),o.Rb(),o.Rb(),o.Sb(18,"ion-item",7),o.Sb(19,"strong"),o.Sb(20,"ion-label",8),o.Cc(21,"Cobertura"),o.Rb(),o.Rb(),o.Sb(22,"ion-input",13),o.Cc(23),o.Rb(),o.Rb(),o.Sb(24,"ion-item",7),o.Sb(25,"strong"),o.Sb(26,"ion-label",8),o.Cc(27,"Horas migradas - Unidad de medida"),o.Rb(),o.Rb(),o.Sb(28,"ion-input",13),o.Cc(29),o.Rb(),o.Rb(),o.Sb(30,"ion-item",7),o.Sb(31,"strong"),o.Sb(32,"ion-label",8),o.Cc(33,"Horas ejecutadas"),o.Rb(),o.Rb(),o.Sb(34,"ion-input",13),o.Cc(35),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&e){const e=i.$implicit;o.Bb(3),o.Fc("",e.idActividad," contrato ",1===e.firmamaQR?"(Firma con QR)":"(Firma sin QR)",""),o.Bb(8),o.Ec(" ",e.descripcionActividad," "),o.Bb(6),o.Ec(" ",e.Observaciones," "),o.Bb(6),o.Ec(" ",e.coverage," "),o.Bb(6),o.Fc(" ",e.horasAEjecutar," - ",e.unidadMedida," "),o.Bb(6),o.Fc(" ",e.horasEjecutadas," - ",e.unidadMedida," ")}}function s(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec(2);o.Bb(1),o.Ec(" ",e.verification.typeAdvisory.type," ")}}function b(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.fc(2,"date"),o.Rb()),2&e){const e=o.ec(2);o.Bb(1),o.Ec(" ",o.hc(2,1,e.verification.typeAdvisory.fechaInicialAsesoria,"dd/MMM/yyyy")," ")}}function l(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec(2);o.Bb(1),o.Ec(" ",e.verification.typeAdvisory.startHour," ")}}function d(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec(2);o.Bb(1),o.Ec(" ",e.verification.typeAdvisory.endHour," ")}}function u(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec(2);o.Bb(1),o.Ec(" ",e.verification.typeAdvisory.totalHours," ")}}function g(e,i){if(1&e&&(o.Sb(0,"ion-card",6),o.Sb(1,"ion-card-content",6),o.Sb(2,"ion-list"),o.Sb(3,"ion-item",7),o.Sb(4,"strong"),o.Sb(5,"ion-label",8),o.Cc(6,"Tipo de asesor\xeda"),o.Rb(),o.Rb(),o.Ac(7,s,2,1,"ion-input",9),o.Rb(),o.Sb(8,"ion-item",7),o.Sb(9,"strong"),o.Sb(10,"ion-label",8),o.Cc(11,"Fecha Inicial Asesoria"),o.Rb(),o.Rb(),o.Ac(12,b,3,4,"ion-input",9),o.Rb(),o.Sb(13,"ion-item",7),o.Sb(14,"strong"),o.Sb(15,"ion-label",8),o.Cc(16,"Hora inicio de asesor\xeda"),o.Rb(),o.Rb(),o.Ac(17,l,2,1,"ion-input",9),o.Rb(),o.Sb(18,"ion-item",7),o.Sb(19,"strong"),o.Sb(20,"ion-label",8),o.Cc(21,"Hora final de asesor\xeda"),o.Rb(),o.Rb(),o.Ac(22,d,2,1,"ion-input",9),o.Rb(),o.Sb(23,"ion-item",7),o.Sb(24,"strong"),o.Sb(25,"ion-label",8),o.Cc(26,"Total horas de la asesor\xeda"),o.Rb(),o.Rb(),o.Ac(27,u,2,1,"ion-input",9),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&e){const e=o.ec();o.Bb(7),o.mc("ngIf",e.verification),o.Bb(5),o.mc("ngIf",e.verification),o.Bb(5),o.mc("ngIf",e.verification),o.Bb(5),o.mc("ngIf",e.verification),o.Bb(5),o.mc("ngIf",e.verification)}}function f(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec(2);o.Bb(1),o.Ec(" ",e.verification.typeAdvisory.type," ")}}function p(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.fc(2,"date"),o.Rb()),2&e){const e=o.ec(2);o.Bb(1),o.Ec(" ",o.hc(2,1,e.verification.typeAdvisory.date,"dd/MMMM/yyyy")," ")}}function S(e,i){if(1&e&&(o.Sb(0,"ion-card",6),o.Sb(1,"ion-card-content",6),o.Sb(2,"ion-list"),o.Sb(3,"ion-item",7),o.Sb(4,"strong"),o.Sb(5,"ion-label",8),o.Cc(6,"Tipo de asesor\xeda"),o.Rb(),o.Rb(),o.Ac(7,f,2,1,"ion-input",9),o.Rb(),o.Sb(8,"ion-item",7),o.Sb(9,"strong"),o.Sb(10,"ion-label",8),o.Cc(11,"Fecha Inicial Asesoria"),o.Rb(),o.Rb(),o.Ac(12,p,3,4,"ion-input",9),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&e){const e=o.ec();o.Bb(7),o.mc("ngIf",e.verification),o.Bb(5),o.mc("ngIf",e.verification)}}function h(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec();o.Bb(1),o.Ec(" ",e.verification.infoCompany.nombre," ")}}function m(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec();o.Bb(1),o.Ec(" ",e.verification.infoCompany.tipoDocumento," ")}}function R(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec();o.Bb(1),o.Ec(" ",e.verification.infoCompany.numeroDocumento," ")}}function v(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec();o.Bb(1),o.Ec(" ",e.verification.infoCompany.direccion," ")}}function C(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec();o.Bb(1),o.Fc(" ",e.verification.infoCompany.latitud,", ",e.verification.infoCompany.longitud," ")}}function A(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec();o.Bb(1),o.Ec(" ",e.verification.infoCompany.telefono," ")}}function y(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec();o.Bb(1),o.Ec(" ",e.verification.infoCompany.departamento," ")}}function P(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec();o.Bb(1),o.Ec(" ",e.verification.infoCompany.municipio," ")}}function O(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec(2);o.Bb(1),o.Ec(" ",e.verification.commentsAdvice.type," ")}}function B(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec(2);o.Bb(1),o.Ec(" ",e.verification.commentsAdvice.comment," ")}}function I(e,i){if(1&e&&(o.Sb(0,"ion-card",6),o.Sb(1,"ion-card-content",6),o.Sb(2,"ion-list"),o.Sb(3,"ion-item",7),o.Sb(4,"strong"),o.Sb(5,"ion-label",8),o.Cc(6,"\xbfFue exitosa?"),o.Rb(),o.Rb(),o.Ac(7,O,2,1,"ion-input",9),o.Rb(),o.Sb(8,"ion-item",7),o.Sb(9,"strong"),o.Sb(10,"ion-label",8),o.Cc(11,"Comentario"),o.Rb(),o.Rb(),o.Ac(12,B,2,1,"ion-input",9),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&e){const e=o.ec();o.Bb(7),o.mc("ngIf",e.verification),o.Bb(5),o.mc("ngIf",e.verification)}}function E(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec(2);o.Bb(1),o.Ec(" ",e.verification.commentsAdvice.type," ")}}function M(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec(2);o.Bb(1),o.Ec(" ",e.verification.commentsAdvice.motive," ")}}function w(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.Rb()),2&e){const e=o.ec(2);o.Bb(1),o.Ec(" ",e.verification.commentsAdvice.justify," ")}}function x(e,i){if(1&e&&(o.Sb(0,"ion-input"),o.Cc(1),o.fc(2,"date"),o.Rb()),2&e){const e=o.ec(2);o.Bb(1),o.Ec(" ",o.hc(2,1,e.verification.commentsAdvice.newDateActivity,"dd/MMMM/yyyy")," ")}}function _(e,i){if(1&e&&(o.Sb(0,"ion-card",6),o.Sb(1,"ion-card-content",6),o.Sb(2,"ion-list"),o.Sb(3,"ion-item",7),o.Sb(4,"strong"),o.Sb(5,"ion-label",8),o.Cc(6,"\xbfFue exitosa?"),o.Rb(),o.Rb(),o.Ac(7,E,2,1,"ion-input",9),o.Rb(),o.Sb(8,"ion-item",7),o.Sb(9,"strong"),o.Sb(10,"ion-label",8),o.Cc(11,"Motivo"),o.Rb(),o.Rb(),o.Ac(12,M,2,1,"ion-input",9),o.Rb(),o.Sb(13,"ion-item",7),o.Sb(14,"strong"),o.Sb(15,"ion-label",8),o.Cc(16,"Justificaci\xf3n"),o.Rb(),o.Rb(),o.Ac(17,w,2,1,"ion-input",9),o.Rb(),o.Sb(18,"ion-item",7),o.Sb(19,"strong"),o.Sb(20,"ion-label",8),o.Cc(21,"Nueva fecha"),o.Rb(),o.Rb(),o.Ac(22,x,3,4,"ion-input",9),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&e){const e=o.ec();o.Bb(7),o.mc("ngIf",e.verification),o.Bb(5),o.mc("ngIf",e.verification),o.Bb(5),o.mc("ngIf",e.verification),o.Bb(5),o.mc("ngIf","N/A"!==e.verification.commentsAdvice.newDateActivity)}}let T=(()=>{class e{constructor(e,i){this.modalCtrl=e,this.cacheService=i}ngOnInit(){this.getInfoAdvisory()}getInfoAdvisory(){this.verification=this.cacheService.getAllInfoToAdvisory()}regresar(){this.modalCtrl.dismiss()}}return e.\u0275fac=function(i){return new(i||e)(o.Mb(c.cb),o.Mb(t.a))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-advisory-verification"]],decls:76,vars:13,consts:[["size","12"],[1,"titulo"],[1,"ion-padding"],[1,"ion-text-center","labelTitulo"],["mode","ios",4,"ngFor","ngForOf"],["mode","ios",4,"ngIf"],["mode","ios"],["lines","none"],["position","stacked"],[4,"ngIf"],["no-border",""],[1,"ion-no-border"],["color","primary","expand","block",3,"click"],["readonly","",1,"rounded"]],template:function(e,i){1&e&&(o.Sb(0,"ion-header"),o.Sb(1,"ion-grid"),o.Sb(2,"ion-row"),o.Sb(3,"ion-col",0),o.Sb(4,"ion-title",1),o.Cc(5,"Verificaci\xf3n acta asesor\xeda"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(6,"ion-content",2),o.Sb(7,"div",3),o.Sb(8,"h3"),o.Sb(9,"strong"),o.Cc(10,"Actividades"),o.Rb(),o.Rb(),o.Rb(),o.Ac(11,r,36,9,"ion-card",4),o.Sb(12,"div",3),o.Sb(13,"h3"),o.Sb(14,"strong"),o.Cc(15,"Tipo de asesor\xeda"),o.Rb(),o.Rb(),o.Rb(),o.Ac(16,g,28,5,"ion-card",5),o.Ac(17,S,13,2,"ion-card",5),o.Sb(18,"div",3),o.Sb(19,"h3"),o.Sb(20,"strong"),o.Cc(21,"Informaci\xf3n de la empresa"),o.Rb(),o.Rb(),o.Rb(),o.Sb(22,"ion-card",6),o.Sb(23,"ion-card-content",6),o.Sb(24,"ion-list"),o.Sb(25,"ion-item",7),o.Sb(26,"strong"),o.Sb(27,"ion-label",8),o.Cc(28,"Nombre"),o.Rb(),o.Rb(),o.Ac(29,h,2,1,"ion-input",9),o.Rb(),o.Sb(30,"ion-item",7),o.Sb(31,"strong"),o.Sb(32,"ion-label",8),o.Cc(33,"Tipo de documento"),o.Rb(),o.Rb(),o.Ac(34,m,2,1,"ion-input",9),o.Rb(),o.Sb(35,"ion-item",7),o.Sb(36,"strong"),o.Sb(37,"ion-label",8),o.Cc(38,"Documento"),o.Rb(),o.Rb(),o.Ac(39,R,2,1,"ion-input",9),o.Rb(),o.Sb(40,"ion-item",7),o.Sb(41,"strong"),o.Sb(42,"ion-label",8),o.Cc(43,"Direcci\xf3n"),o.Rb(),o.Rb(),o.Ac(44,v,2,1,"ion-input",9),o.Rb(),o.Sb(45,"ion-item",7),o.Sb(46,"strong"),o.Sb(47,"ion-label",8),o.Cc(48,"Geoposici\xf3n"),o.Rb(),o.Rb(),o.Ac(49,C,2,2,"ion-input",9),o.Rb(),o.Sb(50,"ion-item",7),o.Sb(51,"strong"),o.Sb(52,"ion-label",8),o.Cc(53,"Tel\xe9fono"),o.Rb(),o.Rb(),o.Ac(54,A,2,1,"ion-input",9),o.Rb(),o.Sb(55,"ion-item",7),o.Sb(56,"strong"),o.Sb(57,"ion-label",8),o.Cc(58,"Departamento"),o.Rb(),o.Rb(),o.Ac(59,y,2,1,"ion-input",9),o.Rb(),o.Sb(60,"ion-item",7),o.Sb(61,"strong"),o.Sb(62,"ion-label",8),o.Cc(63,"Municipio/Ciudad"),o.Rb(),o.Rb(),o.Ac(64,P,2,1,"ion-input",9),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(65,"div",3),o.Sb(66,"h3"),o.Sb(67,"strong"),o.Cc(68,"Comentarios"),o.Rb(),o.Rb(),o.Rb(),o.Ac(69,I,13,2,"ion-card",5),o.Ac(70,_,23,4,"ion-card",5),o.Rb(),o.Sb(71,"ion-footer",10),o.Sb(72,"ion-toolbar",11),o.Sb(73,"ion-button",12),o.ac("click",(function(){return i.regresar()})),o.Sb(74,"ion-label"),o.Cc(75,"Regresar"),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&e&&(o.Bb(11),o.mc("ngForOf",i.verification.activities),o.Bb(5),o.mc("ngIf","Especifica"===i.verification.typeAdvisory.type),o.Bb(1),o.mc("ngIf","Proyecto"===i.verification.typeAdvisory.type),o.Bb(12),o.mc("ngIf",i.verification),o.Bb(5),o.mc("ngIf",i.verification),o.Bb(5),o.mc("ngIf",i.verification),o.Bb(5),o.mc("ngIf",i.verification),o.Bb(5),o.mc("ngIf",i.verification),o.Bb(5),o.mc("ngIf",i.verification),o.Bb(5),o.mc("ngIf",i.verification),o.Bb(5),o.mc("ngIf",i.verification),o.Bb(5),o.mc("ngIf","Exitosa"===i.verification.commentsAdvice.type),o.Bb(1),o.mc("ngIf","Fallo"===i.verification.commentsAdvice.type))},directives:[c.w,c.v,c.L,c.p,c.W,c.q,a.k,a.l,c.j,c.k,c.G,c.A,c.F,c.u,c.Y,c.h,c.l,c.n,c.z,c.jb],pipes:[a.e],styles:["ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{color:#fff}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0;background:#95a6b1}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{padding:0}.titulo[_ngcontent-%COMP%]{width:100%!important;font-size:18px!important;text-align:center;padding:10px 0 0;height:60px}ion-content[_ngcontent-%COMP%]   .labelTitulo[_ngcontent-%COMP%]{margin-bottom:20px;font-size:20px;font-weight:bolder;border-bottom:1px solid #344b56;padding:0 0 5px}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{padding:0}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .btnEnviar[_ngcontent-%COMP%]{margin-top:30px}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius:50px}"]}),e})()}}]);