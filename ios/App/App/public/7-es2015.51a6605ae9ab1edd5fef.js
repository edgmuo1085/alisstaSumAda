(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{v4LG:function(e,o,n){"use strict";n.r(o),n.d(o,"MY_FORMATS",(function(){return x})),n.d(o,"InfoRegisterEventManualPageModule",(function(){return P}));var t=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),c=n("tyNb"),a=n("mrSG"),s=n("AC/E"),b=n("gcxx"),l=n("fXoL"),m=n("IRfi"),p=n("A2Vd"),d=n("/o1g");function u(e,o){if(1&e&&(l.Sb(0,"h3"),l.Cc(1),l.Rb()),2&e){const e=l.ec();l.Bb(1),l.Ec(" ",e.nombreEvento," ")}}function f(e,o){if(1&e&&(l.Sb(0,"ion-select-option",30),l.Cc(1),l.Rb()),2&e){const e=l.ec(2);l.mc("value",e.infoUser.strTipoIdentificacionEmpresa),l.Bb(1),l.Dc(e.infoUser.strTipoIdentificacionEmpresa)}}function g(e,o){if(1&e&&(l.Sb(0,"ion-select-option",30),l.Cc(1),l.Rb()),2&e){const e=l.ec(2);l.mc("value",e.infoUser.strTipoDocumentoEmpleado),l.Bb(1),l.Dc(e.infoUser.strTipoDocumentoEmpleado)}}function S(e,o){if(1&e&&(l.Sb(0,"ion-select-option",30),l.Cc(1),l.Rb()),2&e){const e=o.$implicit;l.mc("value",e.FK_ID_Sexo),l.Bb(1),l.Dc(e.strSexo)}}function R(e,o){if(1&e&&(l.Sb(0,"ion-select-option",30),l.Cc(1),l.Rb()),2&e){const e=o.$implicit;l.mc("value",e.FK_ID_Cargo),l.Bb(1),l.Dc(e.strCargo)}}function C(e,o){if(1&e&&(l.Sb(0,"ion-select",31),l.Ac(1,R,2,2,"ion-select-option",22),l.Rb()),2&e){const e=l.ec(2);l.Bb(1),l.mc("ngForOf",e.typeCharges)}}function h(e,o){if(1&e&&(l.Sb(0,"form",10),l.Sb(1,"ion-card",11),l.Sb(2,"ion-card-header"),l.Sb(3,"div",7),l.Sb(4,"ion-card-title"),l.Cc(5,"Informaci\xf3n Empleador"),l.Rb(),l.Rb(),l.Rb(),l.Sb(6,"ion-card-content"),l.Sb(7,"ion-item",12),l.Sb(8,"ion-label",13),l.Cc(9,"Tipo Identificaci\xf3n"),l.Rb(),l.Sb(10,"ion-select",14),l.Ac(11,f,2,2,"ion-select-option",15),l.Rb(),l.Rb(),l.Sb(12,"ion-item",12),l.Sb(13,"ion-label",13),l.Cc(14,"N\xfamero identificaci\xf3n"),l.Rb(),l.Nb(15,"ion-input",16),l.Rb(),l.Sb(16,"ion-item",12),l.Sb(17,"ion-label",13),l.Cc(18,"Raz\xf3n Social"),l.Rb(),l.Nb(19,"ion-input",17),l.Rb(),l.Rb(),l.Rb(),l.Sb(20,"ion-card",11),l.Sb(21,"ion-card-header"),l.Sb(22,"div",7),l.Sb(23,"ion-card-title"),l.Cc(24,"Informaci\xf3n Empleado"),l.Rb(),l.Rb(),l.Rb(),l.Sb(25,"ion-card-content"),l.Sb(26,"ion-item",12),l.Sb(27,"ion-label",13),l.Cc(28,"Tipo Identificaci\xf3n"),l.Rb(),l.Sb(29,"ion-select",18),l.Ac(30,g,2,2,"ion-select-option",15),l.Rb(),l.Rb(),l.Sb(31,"ion-item",12),l.Sb(32,"ion-label",13),l.Cc(33,"N\xfamero identificaci\xf3n"),l.Rb(),l.Nb(34,"ion-input",19),l.Rb(),l.Sb(35,"ion-item",12),l.Sb(36,"ion-label",13),l.Cc(37,"Nombre Completo"),l.Rb(),l.Nb(38,"ion-input",20),l.Rb(),l.Sb(39,"ion-item",12),l.Sb(40,"ion-label",13),l.Cc(41,"Sexo"),l.Rb(),l.Sb(42,"ion-select",21),l.Ac(43,S,2,2,"ion-select-option",22),l.Rb(),l.Rb(),l.Sb(44,"ion-item",12),l.Sb(45,"ion-label",13),l.Cc(46,"Edad"),l.Rb(),l.Sb(47,"mat-form-field",23),l.Nb(48,"input",24),l.Nb(49,"mat-datepicker-toggle",25),l.Nb(50,"mat-datepicker",null,26),l.Rb(),l.Rb(),l.Sb(52,"ion-item",12),l.Sb(53,"ion-label",13),l.Cc(54,"Cargo"),l.Rb(),l.Ac(55,C,2,1,"ion-select",27),l.Rb(),l.Sb(56,"ion-item",12),l.Sb(57,"ion-label",13),l.Cc(58,"Tel\xe9fono"),l.Rb(),l.Nb(59,"ion-input",28),l.Rb(),l.Sb(60,"ion-item",12),l.Sb(61,"ion-label",13),l.Cc(62,"Correo Electr\xf3nico"),l.Rb(),l.Nb(63,"ion-input",29),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&e){const e=l.rc(51),o=l.ec();l.mc("formGroup",o.formInfoUserRegisterEvent),l.Bb(11),l.mc("ngIf",o.infoUser),l.Bb(19),l.mc("ngIf",o.infoUser),l.Bb(13),l.mc("ngForOf",o.typeSex),l.Bb(5),l.mc("matDatepicker",e),l.Bb(1),l.mc("for",e),l.Bb(6),l.mc("ngIf",o.infoUser)}}function E(e,o){if(1&e&&(l.Sb(0,"ion-select-option",30),l.Cc(1),l.Rb()),2&e){const e=o.$implicit;l.mc("value",e.SiglaDocumento),l.Bb(1),l.Dc(e.strTipoDocumento)}}function v(e,o){if(1&e&&(l.Sb(0,"ion-select-option",30),l.Cc(1),l.Rb()),2&e){const e=o.$implicit;l.mc("value",e.SiglaDocumento),l.Bb(1),l.Dc(e.strTipoDocumento)}}function N(e,o){if(1&e&&(l.Sb(0,"ion-select-option",30),l.Cc(1),l.Rb()),2&e){const e=o.$implicit;l.mc("value",e.FK_ID_Sexo),l.Bb(1),l.Dc(e.strSexo)}}function I(e,o){if(1&e&&(l.Sb(0,"ion-select-option",30),l.Cc(1),l.Rb()),2&e){const e=o.$implicit;l.mc("value",e.FK_ID_Cargo),l.Bb(1),l.Dc(e.strCargo)}}function D(e,o){if(1&e&&(l.Sb(0,"form",10),l.Sb(1,"ion-card",11),l.Sb(2,"ion-card-header"),l.Sb(3,"div",7),l.Sb(4,"ion-card-title"),l.Cc(5,"Informaci\xf3n Empleador"),l.Rb(),l.Rb(),l.Rb(),l.Sb(6,"ion-card-content"),l.Sb(7,"ion-item",12),l.Sb(8,"ion-label",13),l.Cc(9,"Tipo Identificaci\xf3n"),l.Rb(),l.Sb(10,"ion-select",14),l.Ac(11,E,2,2,"ion-select-option",22),l.Rb(),l.Rb(),l.Sb(12,"ion-item",12),l.Sb(13,"ion-label",13),l.Cc(14,"N\xfamero identificaci\xf3n"),l.Rb(),l.Nb(15,"ion-input",16),l.Rb(),l.Sb(16,"ion-item",12),l.Sb(17,"ion-label",13),l.Cc(18,"Raz\xf3n Social"),l.Rb(),l.Nb(19,"ion-input",17),l.Rb(),l.Rb(),l.Rb(),l.Sb(20,"ion-card",11),l.Sb(21,"ion-card-header"),l.Sb(22,"div",7),l.Sb(23,"ion-card-title"),l.Cc(24,"Informaci\xf3n Empleado"),l.Rb(),l.Rb(),l.Rb(),l.Sb(25,"ion-card-content"),l.Sb(26,"ion-item",12),l.Sb(27,"ion-label",13),l.Cc(28,"Tipo Identificaci\xf3n"),l.Rb(),l.Sb(29,"ion-select",18),l.Ac(30,v,2,2,"ion-select-option",22),l.Rb(),l.Rb(),l.Sb(31,"ion-item",12),l.Sb(32,"ion-label",13),l.Cc(33,"N\xfamero identificaci\xf3n"),l.Rb(),l.Nb(34,"ion-input",19),l.Rb(),l.Sb(35,"ion-item",12),l.Sb(36,"ion-label",13),l.Cc(37,"Nombre Completo"),l.Rb(),l.Nb(38,"ion-input",20),l.Rb(),l.Sb(39,"ion-item",12),l.Sb(40,"ion-label",13),l.Cc(41,"Sexo"),l.Rb(),l.Sb(42,"ion-select",21),l.Ac(43,N,2,2,"ion-select-option",22),l.Rb(),l.Rb(),l.Sb(44,"ion-item",12),l.Sb(45,"ion-label",13),l.Cc(46,"Fecha de nacimiento"),l.Rb(),l.Sb(47,"mat-form-field",23),l.Nb(48,"input",24),l.Nb(49,"mat-datepicker-toggle",25),l.Nb(50,"mat-datepicker",null,26),l.Rb(),l.Rb(),l.Sb(52,"ion-item",12),l.Sb(53,"ion-label",13),l.Cc(54,"Cargo"),l.Rb(),l.Sb(55,"ion-select",31),l.Ac(56,I,2,2,"ion-select-option",22),l.Rb(),l.Rb(),l.Sb(57,"ion-item",12),l.Sb(58,"ion-label",13),l.Cc(59,"Tel\xe9fono"),l.Rb(),l.Nb(60,"ion-input",28),l.Rb(),l.Sb(61,"ion-item",12),l.Sb(62,"ion-label",13),l.Cc(63,"Correo Electr\xf3nico"),l.Rb(),l.Nb(64,"ion-input",29),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&e){const e=l.rc(51),o=l.ec();l.mc("formGroup",o.formInfoUserRegisterEventEmpty),l.Bb(11),l.mc("ngForOf",o.documentsType),l.Bb(19),l.mc("ngForOf",o.documentsType),l.Bb(13),l.mc("ngForOf",o.typeSex),l.Bb(5),l.mc("matDatepicker",e),l.Bb(1),l.mc("for",e),l.Bb(7),l.mc("ngForOf",o.typeCharges)}}function T(e,o){if(1&e){const e=l.Tb();l.Sb(0,"ion-grid"),l.Sb(1,"ion-row"),l.Nb(2,"ion-col",32),l.Sb(3,"ion-col",33),l.Sb(4,"ion-button",34),l.ac("click",(function(){l.tc(e);const o=l.ec();return o.registerResponsible(o.formInfoUserRegisterEvent)})),l.Cc(5," Registrar "),l.Rb(),l.Rb(),l.Nb(6,"ion-col",32),l.Rb(),l.Rb()}}function y(e,o){if(1&e){const e=l.Tb();l.Sb(0,"ion-grid"),l.Sb(1,"ion-row"),l.Nb(2,"ion-col",32),l.Sb(3,"ion-col",33),l.Sb(4,"ion-button",34),l.ac("click",(function(){l.tc(e);const o=l.ec();return o.registerResponsible(o.formInfoUserRegisterEventEmpty)})),l.Cc(5," Registrar "),l.Rb(),l.Rb(),l.Nb(6,"ion-col",32),l.Rb(),l.Rb()}}const _=[{path:"",component:(()=>{class e{constructor(e,o,n,t,i){this.cacheService=e,this.eventService=o,this.router=n,this.alertController=t,this.formBuilder=i,this.documentsType=[],this.typeCharges=[],this.typeSex=[]}ngOnInit(){this.getDocumentsTypeUser(),this.getTypesCharge(),this.getTypesSex(),"null"===sessionStorage.infoResponsibleManualEvent?(this.createFormInfoUserRegister(),this.isResponsibleEmpty=!0):(this.isResponsibleEmpty=!1,this.infoUser=JSON.parse(sessionStorage.infoResponsibleManualEvent),this.createFormInfoUserRegisterWithInformation(),setTimeout(()=>{this.formInfoUserRegisterEvent.patchValue({tipoDocEmp:this.infoUser.strTipoIdentificacionEmpresa,documentoEmp:this.infoUser.strNumeroDocumentoEmpresa,razonSocial:this.infoUser.strRazonSocial,tipoDoc:this.infoUser.strTipoDocumentoEmpleado,idPersona:this.infoUser.strNumeroDocumentoEmpleado,nombre:this.infoUser.strNombreEmpleado,cargo:this.infoUser.FK_ID_Cargo,edad:this.infoUser.dtmFechaNacimiento,sexo:this.infoUser.FK_ID_Sexo,telefono:this.infoUser.strTelefono,email:this.infoUser.strEmail})},1e3)),this.nombreEvento=sessionStorage.nombreEvento}createFormInfoUserRegister(){this.formInfoUserRegisterEventEmpty=this.formBuilder.group({tipoDocEmp:["",i.q.required],documentoEmp:["",i.q.required],razonSocial:["",i.q.required],tipoDoc:["",i.q.required],idPersona:["",i.q.required],nombre:["",i.q.required],sexo:["",i.q.required],edad:["",i.q.required],cargo:["",i.q.required],telefono:["",i.q.required],email:["",i.q.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*.-]).{6,}$")]})}createFormInfoUserRegisterWithInformation(){this.formInfoUserRegisterEvent=this.formBuilder.group({tipoDocEmp:[{value:"",disabled:!0}],documentoEmp:[{value:"",disabled:!0}],razonSocial:[{value:"",disabled:!0}],tipoDoc:[{value:"",disabled:!0}],idPersona:[{value:"",disabled:!0}],nombre:[{value:"",disabled:!0}],sexo:[""],edad:[""],cargo:[""],telefono:[""],email:["",i.q.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*.-]).{6,}$")]})}getDocumentsTypeUser(){this.eventService.getDocumentType().subscribe(e=>{this.documentsType=e.Documentos})}getTypesCharge(){this.eventService.getDocumentType().subscribe(e=>{this.typeCharges=e.Cargos})}getTypesSex(){this.eventService.getDocumentType().subscribe(e=>{this.typeSex=e.Sexos})}registerResponsible(e){const o=this.cacheService.newRegisterEvent.FK_ID_Evento.toString();if(this.isResponsibleEmpty){const n=e.controls.edad.value.toISOString().split("T")[0];this.registerNewResponsibleWhenIsEmpty({strTipoIdentificacionEmpresa:e.value.tipoDocEmp,strNumeroDocumentoEmpresa:e.value.documentoEmp,strTipoDocumentoEmpleado:e.value.tipoDoc,strNumeroDocumentoEmpleado:e.value.idPersona,strNombreEmpleado:e.value.nombre,dtmFechaNacimiento:n,FK_ID_Sexo:e.value.sexo,strTelefono:e.value.telefono,FK_ID_Cargo:e.value.cargo,FK_ID_Evento:o,strRazonSocial:e.value.razonSocial,strEmail:e.value.email})}else{const n=this.validateDocumentType(e.controls.tipoDocEmp.value);this.registerNewResponsibleWhenIsEmpty({strTipoIdentificacionEmpresa:n,strNumeroDocumentoEmpresa:e.controls.documentoEmp.value,strTipoDocumentoEmpleado:e.controls.tipoDoc.value,strNumeroDocumentoEmpleado:e.controls.idPersona.value,strNombreEmpleado:e.controls.nombre.value,dtmFechaNacimiento:e.value.edad,FK_ID_Sexo:e.value.sexo,strTelefono:e.value.telefono,FK_ID_Cargo:e.value.cargo,FK_ID_Evento:o,strRazonSocial:e.controls.razonSocial.value,strEmail:e.value.email})}}registerNewResponsibleWhenIsEmpty(e){this.eventService.registerResponsibleManual(e).subscribe(e=>{this.confirmationRegister("Exitoso","El registro se realiz\xf3 correctamente."),this.router.navigateByUrl("u/consultEvent/selectRegisterEvent")},e=>{this.confirmationRegister("Fallido.","No se pudo realizar el registro del asistente al evento")})}validateDocumentType(e){switch(e){case"NIT":return"NI";case"C\xc9DULA DE CIUDADANIA":return"CC";case"C\xc9DULA DE EXTRANJER\xcdA":return"CE";case"NUIP":return"NU";case"PASAPORTE":return"PA";case"TARJETA DE IDENTIDAD":return"ti";case"PERMISO ESPECIAL DE PERMANENCIA":return"PE"}}confirmationRegister(e,o){return Object(a.a)(this,void 0,void 0,(function*(){const n=yield this.alertController.create({header:e,mode:"ios",message:o,buttons:["ACEPTAR"]});yield n.present()}))}}return e.\u0275fac=function(o){return new(o||e)(l.Mb(s.a),l.Mb(b.a),l.Mb(c.g),l.Mb(r.a),l.Mb(i.b))},e.\u0275cmp=l.Gb({type:e,selectors:[["app-info-register-event-manual"]],decls:17,vars:5,consts:[["size","2"],["color","tertiary"],["slot","start"],["color","primary","mode","md","defaultHref","/"],["size","10"],[1,"titulo"],[1,"ion-padding","backgroundContent"],[1,"ion-text-center"],[4,"ngIf"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["mode","ios"],["lines","none"],["position","stacked"],["formControlName","tipoDocEmp","interface","action-sheet",1,"bg-light","mt-3","rounded","pl-1","pr-1"],[3,"value",4,"ngIf"],["formControlName","documentoEmp",1,"bg-light","mt-3","rounded","pl-1","pr-1"],["formControlName","razonSocial",1,"bg-light","mt-3","rounded","pl-1","pr-1"],["formControlName","tipoDoc","interface","action-sheet",1,"bg-light","mt-3","rounded","pl-1","pr-1"],["formControlName","idPersona",1,"bg-light","mt-3","rounded","pl-1","pr-1"],["formControlName","nombre",1,"bg-light","mt-3","rounded","pl-1","pr-1"],["formControlName","sexo","mode","ios","interface","action-sheet","cancelText","CANCELAR","placeholder","Sexo",1,"bg-light","mt-3","rounded","pl-1","pr-1"],[3,"value",4,"ngFor","ngForOf"],[1,"bg-light","mt-3","rounded","pl-1","pr-1",2,"width","100%"],["matInput","","formControlName","edad",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","cargo","class","bg-light mt-3 rounded pl-1 pr-1","placeholder","Cargo","mode","ios","interface","action-sheet","cancelText","CANCELAR",4,"ngIf"],["formControlName","telefono","placeholder","Tel\xe9fono",1,"bg-light","mt-3","rounded","pl-1","pr-1"],["formControlName","email","placeholder","Correo electr\xf3nico",1,"bg-light","mt-3","rounded","pl-1","pr-1"],[3,"value"],["formControlName","cargo","placeholder","Cargo","mode","ios","interface","action-sheet","cancelText","CANCELAR",1,"bg-light","mt-3","rounded","pl-1","pr-1"],["size","3"],["size","6"],["color","primary","expand","block",1,"btn",3,"click"]],template:function(e,o){1&e&&(l.Sb(0,"ion-header"),l.Sb(1,"ion-grid"),l.Sb(2,"ion-row"),l.Sb(3,"ion-col",0),l.Sb(4,"ion-toolbar",1),l.Sb(5,"ion-buttons",2),l.Nb(6,"ion-back-button",3),l.Rb(),l.Rb(),l.Rb(),l.Sb(7,"ion-col",4),l.Sb(8,"ion-title",5),l.Cc(9,"Registro Manual"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(10,"ion-content",6),l.Sb(11,"div",7),l.Ac(12,u,2,1,"h3",8),l.Rb(),l.Ac(13,h,64,7,"form",9),l.Ac(14,D,65,7,"form",9),l.Ac(15,T,7,0,"ion-grid",8),l.Ac(16,y,7,0,"ion-grid",8),l.Rb()),2&e&&(l.Bb(12),l.mc("ngIf",o.nombreEvento),l.Bb(1),l.mc("ngIf",o.infoUser),l.Bb(1),l.mc("ngIf",!o.infoUser),l.Bb(1),l.mc("ngIf",o.infoUser),l.Bb(1),l.mc("ngIf",!o.infoUser))},directives:[r.w,r.v,r.L,r.p,r.Y,r.i,r.e,r.f,r.W,r.q,t.l,i.r,i.m,i.f,r.j,r.l,r.n,r.k,r.A,r.F,r.N,r.ib,i.l,i.d,r.z,r.jb,t.k,m.a,p.b,i.a,d.b,d.d,m.d,d.a,r.O,r.h],styles:["ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{color:#fff}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0;background:#95a6b1}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{padding:0}.titulo[_ngcontent-%COMP%]{width:100%!important;font-size:25px!important;text-align:left;padding:10px 0 0}ion-card[_ngcontent-%COMP%]{margin-bottom:30px}ion-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{padding:5px}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:5px;margin-top:10pxs}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:0 0 30px}"]}),e})()}];let A=(()=>{class e{}return e.\u0275mod=l.Kb({type:e}),e.\u0275inj=l.Jb({factory:function(o){return new(o||e)},imports:[[c.j.forChild(_)],c.j]}),e})();var M=n("j14s"),U=n("1yaQ");const x={parse:{dateInput:"LL"},display:{dateInput:"LL",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let P=(()=>{class e{}return e.\u0275mod=l.Kb({type:e}),e.\u0275inj=l.Jb({factory:function(o){return new(o||e)},providers:[{provide:M.d,useValue:"es-ES"},{provide:M.a,useClass:U.b,deps:[M.d,U.a]},{provide:M.c,useValue:x}],imports:[[t.c,i.g,i.p,r.Z,A,d.c,m.c,M.g,p.c]]}),e})()}}]);