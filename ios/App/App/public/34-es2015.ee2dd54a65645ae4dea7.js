(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{JFM5:function(n,e,o){"use strict";o.r(e),o.d(e,"FollowUpPageModule",(function(){return u}));var t=o("ofXK"),i=o("3Pt+"),c=o("TEn/"),a=o("tyNb"),r=o("mrSG"),d=o("wd/R"),l=o("AC/E"),m=o("fXoL");const s=function(n){return{"item-interactive-disabled":n}};function b(n,e){if(1&n){const n=m.Tb();m.Sb(0,"form",7),m.ac("ngSubmit",(function(){return m.tc(n),m.ec().save()})),m.Sb(1,"ion-card"),m.Sb(2,"ion-card-header"),m.Sb(3,"ion-card-title"),m.Cc(4,"Verificaci\xf3n del seguimiento"),m.Rb(),m.Rb(),m.Sb(5,"ion-card-content"),m.Sb(6,"div",8),m.Cc(7),m.Rb(),m.Sb(8,"div",9),m.Sb(9,"ion-label"),m.Cc(10,"\xbfLa recomendaci\xf3n fue implementada?"),m.Rb(),m.Sb(11,"ion-radio-group",10),m.Sb(12,"ion-item",11),m.Sb(13,"ion-label"),m.Cc(14,"S\xcd"),m.Rb(),m.Nb(15,"ion-radio",12),m.Rb(),m.Sb(16,"ion-item",11),m.Sb(17,"ion-label"),m.Cc(18,"NO"),m.Rb(),m.Nb(19,"ion-radio",12),m.Rb(),m.Rb(),m.Rb(),m.Sb(20,"ion-item",13),m.Sb(21,"ion-label",14),m.Cc(22,"Fecha de implementaci\xf3n"),m.Rb(),m.Nb(23,"ion-datetime",15),m.Nb(24,"ion-icon",16),m.Rb(),m.Sb(25,"ion-item",17),m.Sb(26,"ion-label"),m.Cc(27,"\xbfFueron eficaces?"),m.Rb(),m.Sb(28,"ion-radio-group",18),m.Sb(29,"ion-item",11),m.Sb(30,"ion-label"),m.Cc(31,"S\xcd"),m.Rb(),m.Nb(32,"ion-radio",12),m.Rb(),m.Sb(33,"ion-item",11),m.Sb(34,"ion-label"),m.Cc(35,"NO"),m.Rb(),m.Nb(36,"ion-radio",12),m.Rb(),m.Rb(),m.Rb(),m.Sb(37,"ion-item",19),m.Sb(38,"ion-label",20),m.Cc(39,"Causa de la NO implementaci\xf3n"),m.Rb(),m.Nb(40,"ion-textarea",21),m.Rb(),m.Sb(41,"ion-item",22),m.Sb(42,"ion-label",20),m.Cc(43,"Nombre de soporte"),m.Rb(),m.Nb(44,"ion-input",23),m.Rb(),m.Sb(45,"div",24),m.Sb(46,"ion-button",25),m.Nb(47,"ion-icon",26),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb()}if(2&n){const n=m.ec();m.mc("formGroup",n.formGroup),m.Bb(7),m.Ec(" ",n.recomendacion.Recomendacion," "),m.Bb(8),m.mc("value",!0),m.Bb(4),m.mc("value",!1),m.Bb(4),m.mc("max",n.dateNow),m.Bb(2),m.mc("ngClass",m.oc(10,s,n.formGroup.controls.eficacia.disabled)),m.Bb(7),m.mc("value",!0),m.Cb("disabled",!!n.formGroup.controls.eficacia.disabled||null),m.Bb(4),m.mc("value",!1),m.Cb("disabled",!!n.formGroup.controls.eficacia.disabled||null)}}const p=[{path:"",component:(()=>{class n{constructor(n,e,o,t){this.cacheService=n,this.route=e,this.alertController=o,this.location=t,this.dateNow=d(new Date).format("YYYY-MM-DD")}ngOnInit(){}ionViewWillEnter(){this.establecerRecomendacion(),this.initForm()}save(){return Object(r.a)(this,void 0,void 0,(function*(){if(this.formGroup.invalid)return void(yield this.alertController.create({header:"Datos incompletos",mode:"ios",message:"Todos los campos son obligatorios.",buttons:["OK"]})).present();const n=this.formGroup.value;this.recomendacion.implementada=n.implementada,this.recomendacion.Fecha_Implementacion=n.fechaImplementacion,this.recomendacion.fueronEficaces=n.eficacia,this.recomendacion.causaNoImplementancion=n.causa,this.recomendacion.InformacionEnvidencia=n.nombreSoporte,this.recomendacion.diligenciado=!0,this.location.back()}))}establecerRecomendacion(){const n=+this.route.snapshot.params.activityId,e=this.cacheService.activitiesSelectedForExec.find(e=>e.id===n),o=+this.route.snapshot.params.recomendationId,t=e.siniestro.Recomendaciones.find(n=>n.Pk_Id_SiniestroRecomendaciones===o);this.recomendacion=t,t.diligenciado||this.clearValues()}clearValues(){this.recomendacion.implementada=null,this.recomendacion.Fecha_Implementacion=null,this.recomendacion.fueronEficaces=null,this.recomendacion.causaNoImplementancion=null,this.recomendacion.InformacionEnvidencia=null}initForm(){const n=new i.c(this.recomendacion.implementada,[i.q.required]),e=new i.c(this.recomendacion.Fecha_Implementacion,[i.q.required]),o=new i.c(this.recomendacion.fueronEficaces,[i.q.required]),t=new i.c(this.recomendacion.causaNoImplementancion,[i.q.required]),c=new i.c(this.recomendacion.InformacionEnvidencia,[]);this.formGroup=new i.e({implementada:n,fechaImplementacion:e,eficacia:o,causa:t,nombreSoporte:c}),this.setupForm()}setupForm(){const n=this.formGroup.controls;n.implementada.valueChanges.subscribe(e=>{if(!1===e)return n.fechaImplementacion.setValue(null),n.fechaImplementacion.disable(),n.nombreSoporte.setValidators([]),n.nombreSoporte.updateValueAndValidity(),n.eficacia.setValue(null),n.eficacia.disable(),void n.causa.enable();n.fechaImplementacion.enable(),n.nombreSoporte.setValidators([i.q.required]),n.nombreSoporte.updateValueAndValidity(),n.eficacia.enable(),n.causa.setValue(null),n.causa.disable()}),n.implementada.setValue(n.implementada.value)}}return n.\u0275fac=function(e){return new(e||n)(m.Mb(l.a),m.Mb(a.a),m.Mb(c.a),m.Mb(t.h))},n.\u0275cmp=m.Gb({type:n,selectors:[["app-follow-up"]],decls:12,vars:1,consts:[["size","2"],["color","tertiary"],["slot","start"],["color","primary","mode","md","defaultHref","/"],["size","10"],[1,"titulo"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"follow-up-text"],[1,"text-center","ion-padding"],["formControlName","implementada",1,"implementation-options"],["lines","none"],["slot","start",3,"value"],["lines","none",1,"implementation-date"],["position","fixed"],["mode","ios","displayFormat","DD/MM/YYYY","doneText","ACEPTAR","cancelText","Cancelar","formControlName","fechaImplementacion",3,"max"],["name","calendar-outline","slot","end"],["lines","none",1,"implemetation-efficiency",3,"ngClass"],["formControlName","eficacia"],["lines","none",1,"implementation-causes"],["position","stacked"],["formControlName","causa"],["lines","none",1,"attachment-name"],["formControlName","nombreSoporte"],[1,"save-button"],["type","submit"],["slot","icon-only","name","arrow-forward-circle-outline"]],template:function(n,e){1&n&&(m.Sb(0,"ion-header"),m.Sb(1,"ion-grid"),m.Sb(2,"ion-row"),m.Sb(3,"ion-col",0),m.Sb(4,"ion-toolbar",1),m.Sb(5,"ion-buttons",2),m.Nb(6,"ion-back-button",3),m.Rb(),m.Rb(),m.Rb(),m.Sb(7,"ion-col",4),m.Sb(8,"div",5),m.Cc(9,"Seguimiento a Recomendaciones AT"),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(10,"ion-content"),m.Ac(11,b,48,12,"form",6),m.Rb()),2&n&&(m.Bb(11),m.mc("ngIf",e.formGroup))},directives:[c.w,c.v,c.L,c.p,c.Y,c.i,c.e,c.f,c.q,t.l,i.r,i.m,i.f,c.j,c.l,c.n,c.k,c.F,c.J,c.ib,i.l,i.d,c.A,c.I,c.gb,c.r,c.x,t.j,c.U,c.jb,c.z,c.h],styles:["ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{color:#fff}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0;background:#95a6b1}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-size:1rem;padding:0;position:relative;top:50%;transform:translateY(-50%)}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{padding:0}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{text-align:center;font-size:1rem;text-transform:uppercase;color:inherit}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .follow-up-text[_ngcontent-%COMP%]{height:300px;overflow:scroll;border-radius:.5rem;border:1px solid var(--ion-color-tertiary-shade);padding:10px}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .implementation-options[_ngcontent-%COMP%]{display:flex;justify-content:space-around}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .implementation-date[_ngcontent-%COMP%]   ion-label[position=fixed][_ngcontent-%COMP%]{font-size:.7rem;width:auto;flex:0 0 auto}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .implemetation-efficiency.item-interactive-disabled[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{cursor:default;opacity:.3;pointer-events:none}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .implemetation-efficiency[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{min-width:-moz-fit-content;min-width:fit-content}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .implemetation-efficiency[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%]{display:flex}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .implemetation-efficiency[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start:0.5rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .implemetation-efficiency[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]{margin-right:.7rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .implementation-causes[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{margin-top:1rem;border:1px solid var(--ion-color-tertiary-shade);border-radius:.5rem;--padding-start:0.5rem;--padding-end:0.5rem;--padding-top:0.5rem;--padding-bottom:0.5rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .attachment-name[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-bottom:1rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .attachment-name[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{border-radius:.5rem;--padding-top:8px;--padding-bottom:8px;--padding-start:8px;--padding-end:8px;border:1px solid var(--ion-color-tertiary-shade)}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{text-align:right;margin-top:1rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background:transparent;--box-shadow:none;--color:var(--ion-color-primary)}"]}),n})()}];let g=(()=>{class n{}return n.\u0275mod=m.Kb({type:n}),n.\u0275inj=m.Jb({factory:function(e){return new(e||n)},imports:[[a.j.forChild(p)],a.j]}),n})(),u=(()=>{class n{}return n.\u0275mod=m.Kb({type:n}),n.\u0275inj=m.Jb({factory:function(e){return new(e||n)},imports:[[t.c,i.g,i.p,c.Z,g]]}),n})()}}]);