(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{QIMp:function(n,t,e){"use strict";e.r(t),e.d(t,"DetailsPageModule",(function(){return _}));var o=e("ofXK"),i=e("3Pt+"),c=e("TEn/"),a=e("j1ZV"),r=e("tyNb"),s=e("mrSG"),d=e("fXoL");let b=(()=>{class n{canDeactivate(n){return Object(s.a)(this,void 0,void 0,(function*(){return yield n.canNavigate()}))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Ib({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var l=e("nm6V"),g=e("5qc1");function p(n,t){if(1&n){const n=d.Tb();d.Qb(0),d.Sb(1,"ion-item",15),d.Sb(2,"div",21),d.Sb(3,"h4"),d.Cc(4,"Departamento Sede Principal"),d.Rb(),d.Cc(5),d.Rb(),d.Rb(),d.Sb(6,"ion-item",15),d.Sb(7,"div",21),d.Sb(8,"h4"),d.Cc(9,"Municipio Sede Principal"),d.Rb(),d.Cc(10),d.Rb(),d.Rb(),d.Sb(11,"ion-item",15),d.Sb(12,"div",18),d.Sb(13,"h4"),d.Cc(14," C\xf3digo/A.E. Principal "),d.Sb(15,"ion-button",19),d.ac("click",(function(t){return d.tc(n),d.ec(3).showPopover(t,"actividad")})),d.Nb(16,"ion-icon",20),d.Rb(),d.Rb(),d.Sb(17,"span",29),d.Cc(18),d.Rb(),d.Cc(19),d.Rb(),d.Rb(),d.Sb(20,"ion-item",15),d.Sb(21,"div",18),d.Sb(22,"h4"),d.Cc(23," Sector Econ\xf3mico "),d.Sb(24,"ion-button",19),d.ac("click",(function(t){return d.tc(n),d.ec(3).showPopover(t,"sector")})),d.Nb(25,"ion-icon",20),d.Rb(),d.Rb(),d.Cc(26),d.Rb(),d.Rb(),d.Sb(27,"ion-item",15),d.Sb(28,"div",21),d.Sb(29,"h4"),d.Cc(30,"Celular Contacto"),d.Rb(),d.Cc(31),d.Rb(),d.Rb(),d.Sb(32,"ion-item",15),d.Sb(33,"div",21),d.Sb(34,"h4"),d.Cc(35,"Tel\xe9fono Notificaci\xf3n"),d.Rb(),d.Cc(36),d.Rb(),d.Rb(),d.Sb(37,"ion-item",15),d.Sb(38,"div",21),d.Sb(39,"h4"),d.Cc(40,"Correo Notificaci\xf3n"),d.Rb(),d.Sb(41,"span",30),d.Cc(42),d.Rb(),d.Rb(),d.Rb(),d.Sb(43,"ion-item",15),d.Sb(44,"div",21),d.Sb(45,"h4"),d.Cc(46,"C\xf3digo Postal"),d.Rb(),d.Cc(47),d.Rb(),d.Rb(),d.Sb(48,"ion-item",15),d.Sb(49,"div",21),d.Sb(50,"h4"),d.Cc(51,"TD/No. Identificaci\xf3n Representante Legal"),d.Rb(),d.Cc(52),d.Rb(),d.Rb(),d.Sb(53,"ion-item",15),d.Sb(54,"div",21),d.Sb(55,"h4"),d.Cc(56,"Nombre Representante Legal"),d.Rb(),d.Cc(57),d.Rb(),d.Rb(),d.Sb(58,"ion-item",15),d.Sb(59,"div",21),d.Sb(60,"h4"),d.Cc(61,"Observaciones"),d.Rb(),d.Nb(62,"ion-textarea",31),d.Rb(),d.Rb(),d.Pb()}if(2&n){const n=d.ec(3);d.Bb(5),d.Ec(" ",n.company.eDSedesActualizadas.Nombre_Departamento_Sede," "),d.Bb(5),d.Ec(" ",n.company.eDSedesActualizadas.Nombre_Municipio_Sede," "),d.Bb(8),d.Dc(n.company.strCodigoActividadEconomica),d.Bb(1),d.Ec(" - ",n.company.strActividadEconomicaNombre," "),d.Bb(7),d.Ec(" ",n.company.strDescripcionSectorEconomico," "),d.Bb(5),d.Ec(" ",n.company.strCelular," "),d.Bb(5),d.Ec(" ",n.company.strTelefono," "),d.Bb(6),d.Dc(n.company.strCorreoElectronico),d.Bb(5),d.Ec(" ",n.company.eDSedesActualizadas.strCodigoPostal," "),d.Bb(5),d.Fc(" ",n.company.strSiglaRepresentanteLegal," - ",n.company.strNumeroDcto_Representant_Legal," "),d.Bb(5),d.Ec(" ",n.company.strNombre_Representant_Legal," "),d.Bb(5),d.mc("value",n.company.stringObservaciones)}}function m(n,t){1&n&&d.Nb(0,"ion-icon",32)}function u(n,t){1&n&&d.Nb(0,"ion-icon",33)}function h(n,t){if(1&n){const n=d.Tb();d.Sb(0,"ion-card",13),d.Sb(1,"ion-card-header"),d.Sb(2,"div",14),d.Sb(3,"div",5),d.Sb(4,"ion-item",15),d.Sb(5,"span",16),d.Cc(6),d.Rb(),d.Rb(),d.Sb(7,"ion-item",15),d.Cc(8),d.Rb(),d.Rb(),d.Sb(9,"ion-icon",17),d.ac("click",(function(){d.tc(n);const t=d.ec(2);return t.showDetails=!t.showDetails})),d.Rb(),d.Rb(),d.Rb(),d.Sb(10,"ion-card-content"),d.Sb(11,"ion-item",15),d.Sb(12,"div",18),d.Sb(13,"h4"),d.Cc(14," Direcci\xf3n Empresa Sede Principal "),d.Sb(15,"ion-button",19),d.ac("click",(function(t){return d.tc(n),d.ec(2).showPopover(t,"direccion")})),d.Nb(16,"ion-icon",20),d.Rb(),d.Rb(),d.Cc(17),d.Rb(),d.Rb(),d.Sb(18,"ion-item",15),d.Sb(19,"div",21),d.Sb(20,"h4"),d.Cc(21,"Indicador de zona"),d.Rb(),d.Cc(22),d.Rb(),d.Rb(),d.Ac(23,p,63,13,"ng-container",22),d.Sb(24,"ion-radio-group",23),d.Sb(25,"ion-item",15),d.Sb(26,"ion-label",24),d.Ac(27,m,1,0,"ion-icon",25),d.Cc(28," Actualizar Datos Empresas "),d.Rb(),d.Nb(29,"ion-radio",26),d.Rb(),d.Sb(30,"ion-item",15),d.Sb(31,"ion-label",24),d.Ac(32,u,1,0,"ion-icon",27),d.Cc(33," Actualizar Personas Contacto "),d.Rb(),d.Nb(34,"ion-radio",28),d.Rb(),d.Rb(),d.Rb(),d.Rb()}if(2&n){const n=d.ec(2);d.Bb(6),d.Dc(n.company.strRazonSocial),d.Bb(2),d.Fc("",n.company.str_Sigla_Documento,": ",n.company.strNumeroDcto,""),d.Bb(1),d.Cb("name",n.showDetails?"chevron-up-outline":"chevron-down-outline"),d.Bb(8),d.Ec(" ",n.company.eDSedesActualizadas.strDireccion," "),d.Bb(5),d.Ec(" ","R"===n.company.eDSedesActualizadas.srtIndicadorZona?"Rural":"Urbana"," "),d.Bb(1),d.mc("ngIf",n.showDetails),d.Bb(4),d.mc("ngIf",n.hasChangedModule("company-data")),d.Bb(5),d.mc("ngIf",n.hasChangedModule("contact-data"))}}function C(n,t){if(1&n){const n=d.Tb();d.Sb(0,"ion-button",11),d.ac("click",(function(){return d.tc(n),d.ec(2).nextPage()})),d.Cc(1," Continuar Proceso "),d.Rb()}}function f(n,t){if(1&n){const n=d.Tb();d.Sb(0,"form",9),d.Ac(1,h,35,9,"ion-card",10),d.Sb(2,"ion-button",11),d.ac("click",(function(){return d.tc(n),d.ec().confirm()})),d.Cc(3," Confirmar Datos "),d.Rb(),d.Ac(4,C,2,0,"ion-button",12),d.Rb()}if(2&n){const n=d.ec();d.mc("formGroup",n.formGroup),d.Bb(1),d.mc("ngIf",n.company),d.Bb(3),d.mc("ngIf",!!n.formGroup.controls.nextPage.value)}}const P=[{path:"",canDeactivate:[b],component:(()=>{class n{constructor(n,t,e,o,i,c){this.companiesService=n,this.route=t,this.router=e,this.alertCtrl=o,this.ngZone=i,this.popoverCtrl=c,this.HINTS={direccion:{text:"al dar clic tendr\xe1 la posibilidad de actualizar la direcci\xf3n de la sede principal.",highlightedText:"Estimado usuario: "},actividad:{text:"Para la modificaci\xf3n de la actividad econ\xf3mica de la empresa, se debe realizar a trav\xe9s de un proceso de reclasificaci\xf3n de empresa ante POSITIVA.",highlightedText:"Recuerde: "},sector:{text:"Para la modificaci\xf3n del sector econ\xf3mico de la empresa, se debe realizar a trav\xe9s de un proceso de reclasificaci\xf3n de empresa ante POSITIVA.",highlightedText:"Recuerde: "}}}ionViewWillEnter(){this.bypass=!1,this.formGroup=void 0,this.getCompany()}nextPage(){let n;switch(this.formGroup.controls.nextPage.value){case"companyData":n="./edit-company";break;case"contactData":n="./contact-list"}this.bypass=!0,this.router.navigate([n],{relativeTo:this.route})}canNavigate(){var n,t;return Object(s.a)(this,void 0,void 0,(function*(){if(this.bypass)return!0;if(!(null!==(t=null===(n=this.company)||void 0===n?void 0:n.__updated)&&void 0!==t?t:[]).length)return this.companiesService.discardChanges(),!0;const e=()=>Object(s.a)(this,void 0,void 0,(function*(){if(i=yield this.companiesService.saveChanges(),!i){const n=yield this.alertCtrl.create({backdropDismiss:!1,header:"Atenci\xf3n",mode:"ios",message:"No tiene espacio suficiente en el dispositivo. Intente liberar memoria.",buttons:["ACEPTAR"]});yield n.present()}})),o=()=>{this.companiesService.discardChanges(),i=!0};let i;return new Promise(n=>Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.alertCtrl.create({header:"Atenci\xf3n",mode:"ios",backdropDismiss:!1,message:"Tiene cambios pendientes por guardar. \xbfDesea guardarlos para despu\xe9s o descartarlos?",buttons:[{text:"Guardar",handler:()=>(t.dismiss().then(()=>Object(s.a)(this,void 0,void 0,(function*(){yield e(),n(i)}))),!1),role:"save"},{text:"Descartar",handler:()=>(t.dismiss().then(()=>Object(s.a)(this,void 0,void 0,(function*(){o(),n(i)}))),!1),role:"cancel"}]});yield t.present()})))}))}hasChangedModule(n){var t;return void 0!==(null!==(t=this.company.__updated)&&void 0!==t?t:[]).find(t=>t===n)}confirm(){return Object(s.a)(this,void 0,void 0,(function*(){const n=yield this.alertCtrl.create({header:"Estimado Usuario",mode:"ios",backdropDismiss:!1,message:"\xbfEst\xe1 seguro de la confirmaci\xf3n de sus datos?",buttons:[{text:"Aceptar",role:"accept",handler:()=>{this.ngZone.run(()=>{this.bypass=!0,this.router.navigate(["./signature"],{relativeTo:this.route})})}},{text:"Cancelar",role:"cancel"}]});yield n.present()}))}showPopover(n,t){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.popoverCtrl.create({event:n,component:l.a,componentProps:{text:this.HINTS[t].text,highlightedText:this.HINTS[t].highlightedText}});yield e.present()}))}getCompany(){return Object(s.a)(this,void 0,void 0,(function*(){const n=+this.route.snapshot.params.id;try{this.company=yield this.companiesService.prepareCompany(n)}catch(t){this.company=this.companiesService.company}this.company?this.initForm():this.router.navigate(["../"])}))}initForm(){const n=new i.c;this.formGroup=new i.e({nextPage:n})}}return n.\u0275fac=function(t){return new(t||n)(d.Mb(g.a),d.Mb(r.a),d.Mb(r.g),d.Mb(c.a),d.Mb(d.z),d.Mb(c.fb))},n.\u0275cmp=d.Gb({type:n,selectors:[["app-details"]],decls:13,vars:1,consts:[["size","2"],["color","tertiary"],["slot","start"],["color","primary","mode","md","defaultHref","/"],["size","10"],[1,"title"],[1,"title-wrapper"],[1,"backgroundContent","ion-padding"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["class","ion-no-margin",4,"ngIf"],["expand","block",1,"ion-margin-bottom",3,"click"],["class","ion-margin-bottom","expand","block",3,"click",4,"ngIf"],[1,"ion-no-margin"],[1,"header-wrapper"],["lines","none"],[1,"razon-social"],[3,"click"],[1,"field","with-help"],[1,"tooltip",3,"click"],["name","help-outline","slot","icon-only"],[1,"field"],[4,"ngIf"],["formControlName","nextPage"],[1,"radio-label"],["class","icon-updated","name","checkmark-circle-outline","slot","start",4,"ngIf"],["slot","end","value","companyData"],["name","checkmark-circle-outline","slot","start",4,"ngIf"],["slot","end","value","contactData"],[1,"codigo-actividad"],[1,"correo-notificacion"],["autoGrow","true","readonly","true",3,"value"],["name","checkmark-circle-outline","slot","start",1,"icon-updated"],["name","checkmark-circle-outline","slot","start"]],template:function(n,t){1&n&&(d.Sb(0,"ion-header"),d.Sb(1,"ion-grid"),d.Sb(2,"ion-row"),d.Sb(3,"ion-col",0),d.Sb(4,"ion-toolbar",1),d.Sb(5,"ion-buttons",2),d.Nb(6,"ion-back-button",3),d.Rb(),d.Rb(),d.Rb(),d.Sb(7,"ion-col",4),d.Sb(8,"div",5),d.Sb(9,"div",6),d.Cc(10,"Solicitud Actualizaci\xf3n Empresa"),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Sb(11,"ion-content",7),d.Ac(12,f,5,3,"form",8),d.Rb()),2&n&&(d.Bb(12),d.mc("ngIf",t.formGroup))},directives:[c.w,c.v,c.L,c.p,c.Y,c.i,c.e,c.f,c.q,o.l,i.r,i.m,i.f,c.h,c.j,c.l,c.A,c.x,c.k,c.J,c.ib,i.l,i.d,c.F,c.I,c.gb,c.U,c.jb],styles:["ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{color:#fff}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0;background:#95a6b1}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%!important;font-size:25px!important;padding:0;height:100%;display:flex;justify-content:center;align-items:center}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]{white-space:break-spaces;text-align:center}ion-header[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{padding:0;--border-width:0}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:.9rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{display:flex}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex-grow:1;font-weight:700}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:.2rem;white-space:normal}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .razon-social[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{flex-grow:0;font-size:1.5rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;--inner-padding-start:0;--inner-padding-end:0;--inner-padding-bottom:0;--inner-padding-top:0;--background:inherit;--color:inherit;--min-height:auto;white-space:nowrap;text-overflow:ellipsis;font-size:inherit}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.5rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{--border-radius:50%}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{white-space:normal;width:100%}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .field.with-help[_ngcontent-%COMP%]{padding:5px 0}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:inherit;font-weight:700}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{--background:var(--ion-color-secondary);--color:var(--ion-color-secondary-contrast);--padding-start:1px;--padding-end:1px;--padding-top:1px;--padding-bottom:1px;--border-radius:1rem;font-size:.6rem;margin-top:-.6rem;pointer-events:auto}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{border-radius:1rem;--background:var(--ion-color-light-shade);--color:var(--ion-color-light-contrast);--padding-start:0.7rem;--padding-end:0.7rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .codigo-actividad[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .correo-notificacion[_ngcontent-%COMP%]{color:#00f}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]{white-space:break-spaces;font-size:inherit;color:#334fff}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-left:5px;vertical-align:middle;color:var(--ion-color-success)}"]}),n})()}];let O=(()=>{class n{}return n.\u0275mod=d.Kb({type:n}),n.\u0275inj=d.Jb({factory:function(t){return new(t||n)},imports:[[r.j.forChild(P)],r.j]}),n})(),_=(()=>{class n{}return n.\u0275mod=d.Kb({type:n}),n.\u0275inj=d.Jb({factory:function(t){return new(t||n)},imports:[[o.c,i.g,i.p,c.Z,O,a.a]]}),n})()},qkCY:function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var o=e("mrSG"),i=e("fXoL"),c=e("e8h1");let a=(()=>{class n{constructor(n){this.storage=n}set(n,t){return Object(o.a)(this,void 0,void 0,(function*(){let e;try{e=yield this.storage.set(n,t)}catch(o){e=!1}return!1!==e}))}get(n){return Object(o.a)(this,void 0,void 0,(function*(){let t;try{t=yield this.storage.get(n)}catch(e){}return t}))}remove(n){this.storage.remove(n)}clear(){this.storage.clear()}}return n.\u0275fac=function(t){return new(t||n)(i.Wb(c.b))},n.\u0275prov=i.Ib({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);